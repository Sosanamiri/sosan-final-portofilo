"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["editor","packages_relay-environment_relay-environment_ts-packages_agent-sessions_components_NewTaskCha-8c7997"],{79198:(e,t,n)=>{var o=n(87363),r=n(76641),i=n(21403),s=n(97797),l=n(82247),a=n(51987);let c=new WeakMap;function u(e){return m(e.querySelector(".js-new-filename-field"))}function d(e){return Array.from(e.querySelectorAll(".js-check-for-fork")).some(l.A)}let f=null;function h(){let e=document.querySelector(".js-blob-form");if(!e)return;let t=e.querySelector(".js-blob-submit");t instanceof HTMLButtonElement&&(t.disabled=!(!d(e)&&function(e){let t=e.querySelector(".js-blob-filename"),n=t.value;return"."!==n&&".."!==n&&".git"!==n&&/\S/.test(t.value)}(e)&&(function(e){let t=e.querySelector(".js-blob-contents");return"true"===t.getAttribute("data-allow-unchanged")||m(t)}(e)||u(e)))),e.querySelector(".js-blob-contents-changed").value=(function(e){let t=e.querySelector(".js-blob-contents");return!!t.getAttribute("data-allow-unchanged")||m(t)})(e).toString(),f&&(m(e.querySelector(".js-blob-contents"))||u(e)?window.onbeforeunload=f:window.onbeforeunload=null)}function m(e){return null==e||("hidden"===e.type?e.value!==e.getAttribute("data-default-value"):e.value!==e.defaultValue)}function p(e){(function(e){let t=w()+e.value;document.querySelector(".js-new-filename-field").value=t})(e),function(e){let t=!0,n=e.value?`Create ${e.value}`:"Create new file",o=e.closest("form"),r=document.querySelector(".js-blob-contents"),i=o.querySelector(".js-new-blob-commit-summary");if(!i)return;let s=document.querySelector(".js-commit-message-fallback"),l=c.get(r),a=document.querySelector(".js-new-filename-field").value;if(l)if(a!==l){let o=m(r)?"Update and rename":"Rename";if(e.value.length&&a.length){let e=l.split("/"),r=a.split("/"),i=e.length-1;for(let n=0;n<e.length;n++){let o=e[n];n!==i&&o!==r[n]&&(t=!1)}n=e.length===r.length&&t?`${o} ${e[i]} to ${r[i]}`:`${o} ${l} to ${a}`}else n=`${o} ${l}`}else a===l&&(n=`Update ${e.value}`);i.setAttribute("placeholder",n),s.value=n}(e),h()}function g(e){function t(){e.focus(),e.setSelectionRange(0,0)}for(;e.value.split("/").length>1;){let n=e.value.split("/"),o=n[0],r=n.slice(1).join("/");""===o||"."===o||".git"===o?(e.value=r,window.setTimeout(t,1)):".."===o?y(e):function(e,t,n){let o=t.trim(),r=document.querySelector(".js-breadcrumb-container");if(o.length>0){let t,n=r.querySelectorAll(".js-path-segment a");t=n.length>1?n[n.length-1].pathname:r.querySelector(".js-repo-root a").pathname;let i=document.querySelector(".js-crumb-template").cloneNode(!0);i.classList.remove("js-crumb-template"),i.querySelector("a").href=t,i.querySelector("span").textContent=o;let s=document.querySelector(".js-crumb-separator").cloneNode(!0);s.classList.remove("js-crumb-separator"),e.before(i),e.before(s)}e.value=n,b(e.value),window.setTimeout(function(){e.focus(),e.setSelectionRange(0,0)},1)}(e,o,r)}}function b(e){let t=w();for(let n of document.querySelectorAll(".js-template-suggestion")){let o=n.getAttribute("data-template-suggestion-pattern");if(o){let r=RegExp(o,"i").test(t+e);if(n.classList.toggle("d-none",!r),r){let t=n.querySelector("a[data-template-button]");if(!t)return;let o=new URL(t.href,window.location.origin);o.searchParams.set("filename",e),t.href=`${o.pathname}${o.search}`}}}}function w(){let e="";for(let t of document.querySelectorAll(".js-breadcrumb-container > .js-path-segment"))e=`${e}${t.textContent}/`;return e}function y(e,t=!1){let n;if(t||(e.value=e.value.replace("../","")),1!==document.querySelector(".js-breadcrumb-container").querySelectorAll(".separator").length){e.previousElementSibling&&e.previousElementSibling.remove();let o=e.previousElementSibling;n=o.textContent.length,o.remove(),t&&(e.value=`${o.textContent}${e.value}`)}b(e.value),window.setTimeout(function(t,n=0){(0===n||t)&&(e.focus(),e.setSelectionRange(n,n))},1,t,n)}async function S(e){let t=e.currentTarget.closest(".js-blob-form"),n=(0,r.j)(t.querySelector(".js-code-editor"));if(null==n)return;let o=e.currentTarget.getAttribute("data-template-url"),i=await fetch(o,{headers:{...(0,a.kt)()}});if(!i.ok)return;let s=await i.text();n.setCode(s)}(0,i.lB)(".js-blob-form",{constructor:HTMLFormElement,initialize(e){setTimeout(()=>{let t;for(let t of e.querySelectorAll("input"))"hidden"===t.getAttribute("type")&&t.getAttribute("class")&&null==t.getAttribute("data-default-value")&&t.setAttribute("data-default-value",t.value);!function(e){let t=e.querySelector(".js-blob-contents"),n=e.querySelector(".js-new-filename-field"),o=e.querySelector(".js-blob-filename"),r=o.hasAttribute("data-new-file");null!=o.defaultValue&&o.defaultValue.length&&!r&&c.set(t,n.value)}(e),h(),("yes"===(t=e.getAttribute("data-github-confirm-unload"))||"true"===t)&&(t=""),null==t&&(t="false"),f="no"===t||"false"===t?null:function(){return t},e.addEventListener("submit",function(){window.onbeforeunload=null})})}}),(0,s.on)("change",".js-blob-contents",function(){let e=document.querySelector(".js-blob-filename");e&&p(e)}),(0,o.eC)(".js-blob-filename",function(e){let t=e.currentTarget;document.querySelector(".js-blob-contents").setAttribute("data-filename",t.value),b(t.value),p(t)}),(0,o.eC)(".js-breadcrumb-nav",function(e){let t=e.currentTarget;g(t),p(t)}),(0,i.lB)(".js-breadcrumb-nav",{constructor:HTMLInputElement,initialize(e){g(e),p(e)}}),(0,o.Ff)("keydown",".js-breadcrumb-nav",function(e){let t=e.currentTarget;if("Backspace"===e.key&&0===t.selectionStart&&0===t.selectionEnd){let n=t.parentElement;n&&1!==n.querySelectorAll(".separator").length&&(y(t,!0),e.preventDefault())}p(t)}),(0,o.eC)(".js-new-blob-commit-summary",function(e){let t=e.currentTarget;t.closest(".js-file-commit-form").querySelector(".js-too-long-error").classList.toggle("d-none",t.value.length<=50)}),(0,i.lB)(".js-check-for-fork",function(e){let t=e.closest("form"),n=t.querySelector(".js-blob-submit");e.addEventListener("load",function(){!0===d(t)&&(n.disabled=!0)})}),(0,s.on)("click",".js-citation-template",async function(e){await S(e)}),(0,s.on)("change",".js-gitignore-template input[type=radio]",async function(e){await S(e)}),(0,i.lB)(".js-file-commit-form",function(e){if("true"===new URLSearchParams(window.location.search.slice(1)).get("start_commit")){let t=e.querySelector(".js-details-target");t&&t.click()}});var v=n(50467),k=n(31635),_=n(70170),L=n(46865),j=n(69759),R=n(39595),E=n(17120);let x=["loading-preview","show-preview","no-changes-preview","error-preview"],C=["show-code"].concat(x),A=class BlobEditorElement extends HTMLElement{async connectedCallback(){if(this.discoveredSecrets){let e=await (0,r.B)(this);E.V.annotateDiscoveredSecrets(e.editor,this.discoveredSecrets)}}};function M(e){let t=e.classList.contains("show-code")?"show-code":e.classList.contains("template-editor")?"template-editor":"preview";for(let n of e.querySelectorAll(".js-blob-edit-tab")){let e=n.getAttribute("data-tab")===t;n.classList.toggle("selected",e),e?n.setAttribute("aria-current","true"):n.removeAttribute("aria-current")}(0,s.h)(document.querySelector(".js-file-editor-nav"),"tab:change",{name:t})}function q(e){return"true"===e.getAttribute("data-is-gist")}function T(e,t,n){let o=(q(e)?e:t).querySelector(".js-blob-filename");q(e)?o.readOnly=!n:o.disabled=!n,o.style.cursor=n?"auto":"not-allowed"}function U(e){e.closest(".file-header").querySelector(".js-file-editor-nav").hidden=!function(e){for(let t of[".md",".mkdn",".mkd",".mdown",".markdown"])if(e.endsWith(t))return!0;return!1}(e.value)}function N(){let e=document.querySelector(".js-branch-name-label-container"),t=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked");e&&(t?e.hidden=!0:e.hidden=!1)}function H(e){let t=e.currentTarget.closest(".js-code-editor");if(!t.classList.contains("show-code")&&!t.classList.contains("template-editor"))return;t.querySelector(".js-blob-edit-code").setAttribute("data-hotkey","Mod+Shift+P");let n=t.closest(".js-blob-form");return F(t,n,!q(t),!q(t)&&function(e,t){let n=t.querySelector(".js-preview-diff-toggle");return n&&n instanceof HTMLInputElement?!n.checked:"true"===t.getAttribute("data-simplediff-enabled")}(0,t))}function P(e,t){e.classList.remove(...C),e.classList.add(t);let n=e.querySelector(".preview-actions");n instanceof HTMLElement&&(n.hidden=!x.includes(t));let o=e.closest(".js-code-editor").querySelector(".focus-trap-banner");o&&"show-code"===t?o.hidden=!1:o&&x.includes(t)&&(o.hidden=!0)}(0,v._)(A,"attrPrefix",""),(0,k.Cg)([R.CF],A.prototype,"discoveredSecrets",void 0),A=(0,k.Cg)([R.p_],A),(0,o.Ff)("keypress","input.js-blob-filename",function(e){if("Enter"===e.key){let t=e.target.form.querySelector("select.js-code-indent-mode");t&&t.focus(),e.preventDefault()}}),(0,o.Ff)("keyup",".js-code-editor[data-is-gist] input.js-blob-filename",function(e){U(e.target)}),(0,i.lB)(".js-branch-name-label-container",N),(0,i.lB)(".js-gist-filename",{add(e){U(e)}}),(0,s.on)("click",".js-blob-edit-code",function(e){let t=e.currentTarget.closest(".js-code-editor");if(t.classList.contains("show-code"))return;t.querySelector(".js-blob-edit-code").removeAttribute("data-hotkey"),P(t,"show-code"),M(t);let n=(0,r.j)(t);n?(n.refresh(),n.focus()):t.classList.contains("js-mobile-code-editor")&&t.querySelector(".js-code-textarea").focus();let o=t.closest(".js-blob-form");T(t,o,!0)}),(0,s.on)("click",".js-blob-edit-preview",H),(0,s.on)("click",".js-preview-diff-toggle",function(e){let t=e.currentTarget;if(t instanceof HTMLInputElement){let n=t.checked,o=e.currentTarget.closest(".js-code-editor"),r=o.closest(".js-blob-form");return F(o,r,!0,!n)}}),(0,s.on)("codeEditor:preview",".js-code-textarea",function(e){e.currentTarget.closest(".js-code-editor").classList.contains("show-code")&&H(e)});let B=null;async function F(e,t,n,o){P(e,"loading-preview"),M(e),T(e,t,!1);let i=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked"),s=document.querySelector(".js-blob-preview-form"),l=(0,r.j)(e),a=null,c=1;if(null!=l)a=l.code(),c=l.editor.getCursor("from").line+1;else{if(!e.classList.contains("js-mobile-code-editor"))return;let t=e.querySelector(".js-code-textarea");c=(a=t.value).substring(0,t.selectionStart).split(/\r?\n/).length}q(e)?(0,L.Cy)(s,{blobname:e.querySelector(".js-blob-filename").value,code:a}):(0,L.Cy)(s,{code:a,commit:t.querySelector(".js-commit-oid").value,blobname:t.querySelector(".js-blob-filename").value,willcreatebranch:i.toString(),checkConflict:n.toString()}),B?.abort();let{signal:u}=B=new AbortController;try{let t=new URL(s.action,window.location.origin);o&&t.searchParams.append("avoiddiff","true");let n=await fetch(t.toString(),{method:s.method,body:new FormData(s),signal:u});if(!n.ok)throw Error("network error");let r=await n.text();if(!e.classList.contains("loading-preview"))return;let i=(0,j.B)(document,r),l=q(e)?i:i.querySelector(".data.highlight");if(l||(l=i.querySelector("#readme")),l||(l=i.querySelector(".js-preview-new-file")),l||(l=i.querySelector(".js-preview-msg")),!l&&(l=i.querySelector(".render-container"))&&l.classList.add("is-render-requested"),l){let t=e.querySelector(".js-commit-preview");t.textContent="",t.appendChild(l),P(e,"show-preview"),function(e,t){if(!e.querySelector(".markdown-body")||!e.querySelector("[data-sourcepos]"))return;let n=null;for(let o=t;o>=t-50&&!(n=e.querySelector(`[data-sourcepos^="${o}:"]`));o--);n?.scrollIntoView({block:"start"})}(t,c)}else P(e,"no-changes-preview")}catch{e&&P(e,"error-preview")}}(0,s.on)("change",".js-quick-pull-choice-option",function(e){let t="quick-pull"===e.currentTarget.value,n=document.querySelector(".js-quick-pull-target-branch"),o=document.querySelector(".js-quick-pull-choice-value"),r=document.querySelector(".js-blob-submit");if(N(),t){let e=document.querySelector(".js-quick-pull-new-branch-name"),t=e.getAttribute("data-generated-branch");!e.value.length&&t&&(e.value=t),n.value=e.value,o.value=n.getAttribute("data-default-value")||"",r.textContent=r.getAttribute("data-pull-text")||""}else n.value=n.getAttribute("data-default-value")||"",o.value="",r.textContent=r.getAttribute("data-edit-text")||""}),(0,s.on)("click",".js-quick-pull-choice-option",function(e){if("quick-pull"===e.currentTarget.value){let t=document.querySelector(".js-quick-pull-new-branch-name");t&&(0!==e.clientX||0!==e.clientY)&&(t.focus(),t.select())}});let O=null,W=null;async function I(){let e=document.querySelector(".js-quick-pull-new-branch-name"),t=e.value,n=e.getAttribute("data-generated-branch"),o=document.querySelector(".js-quick-pull-normalization-info"),r=new FormData;r.append("ref",t);let i=e.getAttribute("data-check-url"),s=e.parentElement.querySelector(".js-data-check-url-csrf");O?.abort();let{signal:l}=O=new AbortController;try{let a=await fetch(i,{mode:"same-origin",method:"POST",body:r,signal:l,headers:{Accept:"application/json","Scoped-CSRF-Token":s.value}});if(!a.ok)throw Error("network error");let c=await a.json();if(t!==e.value)return;let u=c.normalized_ref;o.innerHTML=null==c.message_html?"":c.message_html,u||(o.querySelector("code").textContent=n),W&&(W.value=u)}catch{if(t!==e.value)return;W&&(W.value=t)}}let $=(0,_.s)(I,200);(0,o.eC)(".js-quick-pull-new-branch-name",function(e){let t=e.target.value;(W=document.querySelector(".js-quick-pull-target-branch")).value=t,t.length&&$()}),(0,s.on)("click","[data-template-button]",function(){window.onbeforeunload=null}),n(9751),n(57829),n(72602),n(34856),n(32580),n(97340),n(28527),n(76895),n(23653),n(38820),n(97382);var D=n(15237),V=n.n(D);let G={},K={apl:new URL(n(77337),n.b).toString(),asciiarmor:new URL(n(97087),n.b).toString(),"asn.1":new URL(n(91329),n.b).toString(),asterisk:new URL(n(1035),n.b).toString(),brainfuck:new URL(n(78113),n.b).toString(),clike:new URL(n(92377),n.b).toString(),clojure:new URL(n(88497),n.b).toString(),cmake:new URL(n(15345),n.b).toString(),cobol:new URL(n(24257),n.b).toString(),coffeescript:new URL(n(54945),n.b).toString(),commonlisp:new URL(n(81593),n.b).toString(),crystal:new URL(n(44661),n.b).toString(),css:new URL(n(86337),n.b).toString(),cypher:new URL(n(67493),n.b).toString(),d:new URL(n(4225),n.b).toString(),dart:new URL(n(75337),n.b).toString(),diff:new URL(n(56445),n.b).toString(),django:new URL(n(46669),n.b).toString(),dockerfile:new URL(n(29123),n.b).toString(),dtd:new URL(n(30977),n.b).toString(),dylan:new URL(n(70317),n.b).toString(),ebnf:new URL(n(59633),n.b).toString(),ecl:new URL(n(33158),n.b).toString(),eiffel:new URL(n(72517),n.b).toString(),elm:new URL(n(38609),n.b).toString(),erlang:new URL(n(95086),n.b).toString(),factor:new URL(n(22397),n.b).toString(),fcl:new URL(n(61097),n.b).toString(),forth:new URL(n(27801),n.b).toString(),fortran:new URL(n(19449),n.b).toString(),gas:new URL(n(52665),n.b).toString(),gfm:new URL(n(48317),n.b).toString(),gherkin:new URL(n(25665),n.b).toString(),go:new URL(n(6583),n.b).toString(),groovy:new URL(n(66399),n.b).toString(),haml:new URL(n(70491),n.b).toString(),handlebars:new URL(n(95479),n.b).toString(),haskell:new URL(n(1229),n.b).toString(),"haskell-literate":new URL(n(37137),n.b).toString(),haxe:new URL(n(38539),n.b).toString(),htmlembedded:new URL(n(26737),n.b).toString(),htmlmixed:new URL(n(6545),n.b).toString(),http:new URL(n(483),n.b).toString(),idl:new URL(n(93409),n.b).toString(),javascript:new URL(n(13393),n.b).toString(),jinja2:new URL(n(31123),n.b).toString(),jsx:new URL(n(86657),n.b).toString(),julia:new URL(n(61917),n.b).toString(),livescript:new URL(n(56577),n.b).toString(),lua:new URL(n(37637),n.b).toString(),markdown:new URL(n(45777),n.b).toString(),mathematica:new URL(n(72793),n.b).toString(),mbox:new URL(n(60215),n.b).toString(),mirc:new URL(n(21441),n.b).toString(),mllike:new URL(n(33047),n.b).toString(),modelica:new URL(n(48415),n.b).toString(),mscgen:new URL(n(50505),n.b).toString(),mumps:new URL(n(30133),n.b).toString(),nginx:new URL(n(47421),n.b).toString(),nsis:new URL(n(82257),n.b).toString(),ntriples:new URL(n(54161),n.b).toString(),octave:new URL(n(16663),n.b).toString(),oz:new URL(n(5457),n.b).toString(),pascal:new URL(n(74823),n.b).toString(),pegjs:new URL(n(66865),n.b).toString(),perl:new URL(n(60985),n.b).toString(),php:new URL(n(42817),n.b).toString(),pig:new URL(n(52837),n.b).toString(),powershell:new URL(n(51857),n.b).toString(),properties:new URL(n(23945),n.b).toString(),protobuf:new URL(n(9937),n.b).toString(),pug:new URL(n(52117),n.b).toString(),puppet:new URL(n(80571),n.b).toString(),python:new URL(n(2575),n.b).toString(),q:new URL(n(11649),n.b).toString(),r:new URL(n(19341),n.b).toString(),rpm:new URL(n(9829),n.b).toString(),rst:new URL(n(89033),n.b).toString(),ruby:new URL(n(57963),n.b).toString(),rust:new URL(n(52923),n.b).toString(),sas:new URL(n(10329),n.b).toString(),sass:new URL(n(27587),n.b).toString(),scheme:new URL(n(49357),n.b).toString(),shell:new URL(n(58533),n.b).toString(),sieve:new URL(n(29201),n.b).toString(),slim:new URL(n(86529),n.b).toString(),smalltalk:new URL(n(24817),n.b).toString(),smarty:new URL(n(45295),n.b).toString(),solr:new URL(n(53467),n.b).toString(),soy:new URL(n(84817),n.b).toString(),sparql:new URL(n(50209),n.b).toString(),spreadsheet:new URL(n(3445),n.b).toString(),sql:new URL(n(87917),n.b).toString(),stex:new URL(n(81263),n.b).toString(),stylus:new URL(n(62055),n.b).toString(),swift:new URL(n(25457),n.b).toString(),tcl:new URL(n(79537),n.b).toString(),textile:new URL(n(38625),n.b).toString(),tiddlywiki:new URL(n(92307),n.b).toString(),tiki:new URL(n(85121),n.b).toString(),toml:new URL(n(96647),n.b).toString(),tornado:new URL(n(90769),n.b).toString(),troff:new URL(n(86977),n.b).toString(),ttcn:new URL(n(22497),n.b).toString(),"ttcn-cfg":new URL(n(86099),n.b).toString(),turtle:new URL(n(22423),n.b).toString(),twig:new URL(n(81249),n.b).toString(),vb:new URL(n(89119),n.b).toString(),vbscript:new URL(n(96297),n.b).toString(),velocity:new URL(n(11833),n.b).toString(),verilog:new URL(n(77681),n.b).toString(),vhdl:new URL(n(2399),n.b).toString(),vue:new URL(n(94125),n.b).toString(),wast:new URL(n(20973),n.b).toString(),webidl:new URL(n(43137),n.b).toString(),xml:new URL(n(50441),n.b).toString(),xquery:new URL(n(89331),n.b).toString(),yacas:new URL(n(7137),n.b).toString(),yaml:new URL(n(27557),n.b).toString(),"yaml-frontmatter":new URL(n(77495),n.b).toString(),z80:new URL(n(79573),n.b).toString()};function z(e,t){let n,o=V().modes[e].dependencies;if(!o)return t();let r=[];for(let e=0;e<o.length;++e)V().modes.hasOwnProperty(o[e])||r.push(o[e]);if(!r.length)return t();let i=(n=r.length,()=>{0==--n&&t()});for(let e=0;e<r.length;++e)V().requireMode(r[e],i)}V().autoLoadMode=function(e,t){V().modes.hasOwnProperty(t)||V().requireMode(t,()=>{e.setOption("mode",e.getOption("mode"))})},V().requireMode=function(e,t){if(V().modes.hasOwnProperty(e))return z(e,t);if(G.hasOwnProperty(e))return G[e].push(t);let n=K[e];if(!n)throw Error(`CodeMirror mode "${e}" not found.`);window.CodeMirror=V();let o=document.createElement("script");o.src=n,o.crossOrigin="anonymous",document.querySelector("meta[name=codemirror-crossorigin-credentials]")&&(o.crossOrigin="use-credentials");let r=document.getElementsByTagName("script")[0],i=G[e]=[t];if(V().on(o,"load",()=>{z(e,()=>{for(let e=0;e<i.length;++e)i[e]()})}),null==r.parentNode)throw Error("first script node must be in the document.");r.parentNode.insertBefore(o,r)},V().defineMode("conflict",(e,t)=>{let n={startState:()=>({insideConflict:!1}),token:(e,t)=>{if(e.sol()){if(e.match(/^<<<<<<</))return t.insideConflict=!0,e.skipToEnd(),"conflict-marker line-background-conflict-background";else if(t.insideConflict&&e.match(/^=======/))return e.skipToEnd(),"conflict-marker line-background-conflict-background";else if(t.insideConflict&&e.match(/^>>>>>>>/))return t.insideConflict=!1,e.skipToEnd(),"conflict-marker line-background-conflict-background"}return t.insideConflict?(e.next(),"line-background-conflict-background"):(e.next(),null)},blankLine:e=>e.insideConflict?"line-background-conflict-background":null};if(t.baseMode){let o=V().getMode(e,t.baseMode);if("null"!==o.name)return V().overlayMode(o,n,!0);let r=V().findModeByMIME(t.baseMode);V().autoLoadMode(t.editor,r.mode)}return n}),V().defineMIME("application/x-conflict","conflict");let J=V();var Q=n(19117);async function X(e){let t=e.getAttribute("data-language-detection-url");if(!t)return;let n=document.querySelector(".js-code-editor");if(!n)return;let o=btoa(encodeURIComponent(e.value)),i=new URL(t,window.location.origin),s=new URLSearchParams(i.search.slice(1));s.append("filename",o),i.search=s.toString();let l=await fetch(i.toString(),{headers:{...(0,a.kt)(),Accept:"application/json"}});if(!l.ok){let e=Error(),t=l.statusText?` ${l.statusText}`:"";throw e.message=`HTTP ${l.status}${t}`,e}let c=await l.json();(await (0,r.B)(n)).setMode(c.language)}(0,o.uE)(".js-detect-filename-language",e=>{(0,Q.Up)(e,X),e.addEventListener("blur",()=>(0,Q.NB)(e,X),{once:!0})});var Y=n(44569),Z=n(31803);let ee=/Macintosh/.test(navigator.userAgent)?"Cmd":"Ctrl",et=new WeakMap,en=new WeakMap,eo={Enter:e=>{e.execCommand("newlineAndIndentContinueMarkdownList")},Tab:e=>en.get(e)?V().Pass:e.somethingSelected()?void e.indentSelection("add"):void(e.getOption("indentWithTabs")?e.replaceSelection("	","end","+input"):e.execCommand("insertSoftTab")),"Shift-Tab":e=>{if(en.get(e))return V().Pass;e.indentSelection("subtract")},"Cmd-/":"toggleComment","Ctrl-/":"toggleComment",[`${ee}-I`]:e=>ea(e,"_"),[`${ee}-B`]:e=>ea(e,"**"),[`${ee}-E`]:e=>ea(e,"`"),[`${ee}-K`]:e=>(function(e){if(!el(e))return;let t=e.getSelection();if(t){let n=e.listSelections();if(e.replaceSelection(`[${t}](url)`),1===n.length&&n[0].from().line===n[0].to().line){let t=n[0],o={line:t.from().line,ch:Math.max(t.from().ch,t.to().ch)};e.setSelection({ch:o.ch+3,line:o.line},{ch:o.ch+6,line:o.line})}}else{let t=e.getCursor();e.replaceRange("[](url)",t),e.setCursor({line:t.line,ch:t.ch+1})}})(e),[`Shift-${ee}-.`]:e=>ec(e,">"),[`Shift-${ee}-7`]:e=>ec(e,"ol"),[`Shift-${ee}-8`]:e=>ec(e,"-"),[`Shift-${ee}-Alt-V`]:e=>(et.set(e,!0),V().Pass),[`Shift-${ee}-V`]:e=>(et.set(e,!0),V().Pass)},er={"Shift-Ctrl-M":e=>{let t=en.get(e)||!1;en.set(e,!t)}},ei=(e,t,n)=>{el(e)&&n.setAttribute("dir","auto")},es=(e,t)=>{et.get(e)||function(e,t){if(!el(e))return;let n=e.getSelection(),o=t.clipboardData;if(n&&o){var r;let i=o.getData("text/plain");if(r=i,!/^https?:\/\//i.test(r))return;if(i){let o=e.getCursor();e.replaceSelection(`[${n}](${i})`),e.setCursor({line:o.line,ch:o.ch+i.length+4}),t.preventDefault()}}}(e,t),et.set(e,!1)};function el(e){let t=e.getMode().name;return"gfm"===t||"markdown"===t||"text/x-markdown"===e.getOption("mode")}function ea(e,t){if(!el(e))return;let n=e.getSelection();if(n)e.replaceSelection(t+n+t);else{let n=e.getCursor();e.replaceRange(t.repeat(2),n),e.setCursor({line:n.line,ch:n.ch+t.length})}}function ec(e,t){if(!el(e))return;let n=e.getCursor("from"),o=e.getCursor("to"),r=e.getRange({line:n.line,ch:0},o),i=RegExp(`^${"ol"===t?"\\d+\\.":t}\\s`);if(r){let o=r.split(`
`),s=o.every(e=>i.test(e));for(let r=0;r<o.length;r++){let l=n.line+r;if(s){let t=o[r].match(i);t&&e.replaceRange("",{line:l,ch:0},{line:l,ch:t[0].length})}else{let n=`${"ol"===t?`${r+1}.`:t} `;e.replaceRange(n,{line:l,ch:0})}}}else{let o=e.getLine(n.line).match(i);if(o)e.replaceRange("",{line:n.line,ch:0},{line:n.line,ch:o[0].length});else{let o=`${"ol"===t?"1.":t} `;e.replaceRange(o,{line:n.line,ch:0})}}}let eu=(0,n(5225).A)(async function(){let e=new Request("/autocomplete/emojis_for_editor",{method:"GET",credentials:"same-origin",headers:{Accept:"application/json",...(0,a.kt)()}}),t=await fetch(e);if(200!==t.status)throw Error(`emoji request failed with a ${t.status}`);let n=[],o=await t.json();for(let e of Object.keys(o)){let t={text:`${e}:`,render:t=>{let n=document.createElement("img");n.className="emoji emoji-result",n.height=20,n.width=20,n.alt=`:${e}:`,n.src=o[e][0],n.setAttribute("async",""),t.appendChild(n),t.appendChild(document.createTextNode(` ${e}`))},hint:(t,n,r)=>{if(2===o[e].length){let i=r.from||n.from,s={ch:i.ch-1,line:i.line};t.replaceRange(o[e][1],s,r.to||n.to,"complete")}else t.replaceRange(r.text,r.from||n.from,r.to||n.to,"complete")}};n.push(t)}return n});async function ed(e){var t,n,o,r;let i=e.getCursor();if(t=e,n=i,":"!==t.getTokenAt(n).string||(o=e,1===(r=i).ch||function(e,t){var n,o;let r=(n=e,o=t,n.getRange({line:o.line,ch:o.ch-2},{line:o.line,ch:o.ch-1}));return/\s/.test(r)}(o,r)))try{let t=await eu();V().showHint(e,()=>{let n=e.getCursor(),o=e.getTokenAt(n),r=n.ch,i=n.ch,s=n.line,l=o.string;for(;i-- >-1;){var a;let n=e.getTokenAt({ch:i,line:s}).string,o=i-1,c=e.getTokenAt({ch:o,line:s}).string;if(":"===n&&(a=c,/\s/.test(a)||""===a))return{list:t.filter(e=>-1!==e.text.indexOf(l)),from:V().Pos(s,i),to:V().Pos(s,r)};l=n+l}return{list:[],from:V().Pos(s,0),to:V().Pos(s,r)}},{completeSingle:!1})}catch{}}let ef=class CodeEditor{code(){return this.editor.getValue()}setCode(e){this.editor.setValue(e)}refresh(){this.editor.refresh()}focus(){this.editor.focus()}blur(){this.editor.getInputField().blur()}getDocument(){return this.editor.getDoc()}on(e,t){this.container.addEventListener(e,t)}off(e,t){this.container.removeEventListener(e,t)}setDocument(e){this.editor.swapDoc(e),e.modeOption&&void 0!==e.modeOption.name||this.setMode(e.modeOption)}async loading(e){this.editor.setOption("readOnly",!0),await e(),window.onbeforeunload=null,this.editor.setOption("readOnly",!1)}setMode(e){let t=e;this.mergeMode&&(t={name:"conflict",baseMode:t,editor:this.editor}),"text/x-gfm"===t?this.editor.setOption("mode",{name:"gfm",gitHubSpice:!1}):this.editor.setOption("mode",t);let n=this.container.querySelector(".drag-and-drop");if(n){let e="text/x-gfm"!==t&&"text/x-markdown"!==t;n.hidden=e,this.editor.setOption("dragDrop",e)}if(t&&!this.mergeMode){let e=V().findModeByMIME(t);V().autoLoadMode(this.editor,e.mode)}}setConfirmUnloadMessage(e){this.confirmUnload=function(){return e}}clearConfirmUnloadMessage(){this.confirmUnload=void 0,window.onbeforeunload=null}setupFormBindings(){let e=(e,t)=>{this.confirmUnload&&(window.onbeforeunload=this.confirmUnload),(0,L.m$)(this.textarea,this.code()),el(e)&&ed(e),(0,s.h)(this.container,"change",{editor:e,changes:t})};if(this.editor.on("change",e),this.editor.on("swapDoc",e),this.editor.on("renderLine",ei),this.editor.on("paste",es),this.confirmUnload){let e=this.textarea.closest("form");if(null==e)return;e.addEventListener("submit",()=>{window.onbeforeunload=null})}}setupControlBindings(){let e=this.container.querySelector(".js-code-indent-width"),t=this.container.querySelector(".js-code-wrap-mode"),n=this.container.querySelector(".js-code-indent-mode");this.editor.setOption("tabSize",parseInt(e.value)),this.editor.setOption("indentUnit",parseInt(e.value)),this.editor.setOption("lineWrapping","on"===t.value),this.editor.setOption("indentWithTabs","space"!==n.value),e.addEventListener("change",()=>{this.editor.setOption("tabSize",parseInt(e.value)),this.editor.setOption("indentUnit",parseInt(e.value))}),t.addEventListener("change",()=>{this.editor.setOption("lineWrapping",null!=t&&"on"===t.value)}),n.addEventListener("change",()=>{this.editor.setOption("indentWithTabs","space"!==n.value)})}setupKeyBindings(){if(this.editor.addKeyMap(eo),this.editor.addKeyMap({"Shift-Cmd-P":()=>{this.blur(),(0,s.h)(this.textarea,"codeEditor:preview")}}),this.textarea&&document.querySelector(".focus-trap-banner")){var e;let t=document.querySelector(".focus-trap-banner"),n=t?.textContent;this.editor.setOption("screenReaderLabel",`${n}`),(e=this.editor).setOption("extraKeys",{Tab:!1,"Shift-Tab":!1}),e.addKeyMap(er)}(0,Y.zw)()||delete V().keyMap.default["Alt-G"]}setupScrollOnHashChange(){(0,Z.A)(()=>{let e=function(e){let t,n,o=e.match(/#?(?:L|-)(\d+)/gi);if(!o)return[];{let e=[];for(t=0,n=o.length;t<n;t++){let n=o[t];e.push(parseInt(n.replace(/\D/g,"")))}return e}}(window.location.hash);e.length>0&&(this.focus(),this.editor.setCursor({line:e[0]-1,ch:0},{scroll:!0}))})}markText(e,t,n){return this.editor.markText(e,t,{className:n})}constructor(e){if((0,v._)(this,"container",void 0),(0,v._)(this,"textarea",void 0),(0,v._)(this,"filename",void 0),(0,v._)(this,"editor",void 0),(0,v._)(this,"mergeMode",void 0),(0,v._)(this,"confirmUnload",void 0),this.container=e,!this.container)return;this.container.setAttribute("data-editor-loaded",""),this.textarea=this.container.querySelector(".js-code-textarea"),this.filename=this.textarea.getAttribute("data-filename")||"";let t=this.textarea.value,n=this.textarea.getAttribute("data-codemirror-mode"),o="true"===this.textarea.getAttribute("data-codemirror-fixed-height");this.mergeMode="true"===this.textarea.getAttribute("data-merge-mode");let r=this.textarea.clientHeight;this.textarea.style.display="none";let i={lineNumbers:!0,value:t,inputStyle:"contenteditable",theme:"github-light"};this.mergeMode&&(i.gutters=["CodeMirror-linenumbers","merge-gutter"]);let s=this.textarea.parentElement;this.editor=V()(s,i);let l=this.textarea.getAttribute("data-hotkey-scope-id")||"code-editor";if(this.editor.getInputField().setAttribute("id",l),0!==r&&o){let e=this.container.querySelector(".CodeMirror");e&&(e.style.height=`${r}px`)}this.setMode(n),this.setupKeyBindings(),this.setupFormBindings(),this.setupControlBindings(),this.setupScrollOnHashChange()}};(0,i.lB)(".js-code-editor",{constructor:HTMLElement,add:function(e){if((0,r.j)(e)||e.hasAttribute("data-editor-loaded")||e.classList.contains("js-mobile-code-editor"))return;let t=new ef(e),n=e.getAttribute("data-github-confirm-unload")||"";("yes"===n||"true"===n)&&(n=""),"no"!==n&&"false"!==n&&t.setConfirmUnloadMessage(n),(0,s.h)(e,"codeEditor:ready",{editor:t})}});var eh=n(30923),em=n(13195),ep=n(3779),eg=n(29806);function eb(e){return document.querySelector(".js-resolve-conflicts-form").elements.namedItem(e)}let ew=new WeakMap;function ey(e){let t=eb(e);return ew.get(t)}async function eS(e){let t=document.querySelector(".js-code-editor");if(!(t instanceof HTMLElement))return;let n=await (0,r.B)(t);function o(){let t=e.getAttribute("data-filename")||"",n=ey(`files[${t}]`);if(null==n)throw Error("Expected file data to be loaded and was not");ev(n)}n.off("change",o),n.on("change",o);let i=t.closest(".js-conflict-resolver");null!=i&&(i.classList.add("loading"),n.loading(async()=>{let t=e.getAttribute("data-filename");if(!t)return;let o=`files[${t}]`,r=document.querySelector(".js-resolve-file-form");for(let n of(r.elements.namedItem("filename").value=o,r.querySelector(".js-filename").textContent=decodeURIComponent(t),r.classList.toggle("is-resolved",e.classList.contains("resolved")),e.parentNode.children))n.classList.toggle("selected",n===e);let s=ey(o);if(!s){var l;let t=await fetch(e.href,{headers:{...(0,a.kt)(),Accept:"application/json"}});if(!t.ok){let e=Error(),n=t.statusText?` ${t.statusText}`:"";throw e.message=`HTTP ${t.status}${n}`,e}let n=await t.json();ev(s={document:J.Doc(n.conflicted_file.data,n.conflicted_file.codemirror_mime_type),headDocument:J.Doc(n.head.data,n.head.codemirror_mime_type),baseDocument:J.Doc(n.base.data,n.base.codemirror_mime_type),conflicts:[]}),l=s,ew.set(eb(o),l)}i.classList.remove("loading"),n.setDocument(s.document),document.querySelector(".js-code-editor .js-conflict-count").textContent=new Intl.NumberFormat("en-US").format(s.conflicts.length);let c=document.querySelector(".js-code-editor .js-conflict-label");c.textContent=c.getAttribute(1===s.conflicts.length?"data-singular-string":"data-plural-string"),ek(!0)}))}function ev(e){let t={};e.conflicts=[],e.document.eachLine(n=>{if(!n)return;let o=e.document;if(o.setGutterMarker(n,"merge-gutter",null),!t.start&&/^<<<<<<</.test(n.text)?t.start=n:t.start&&/^=======/.test(n.text)?t.middle=n:t.start&&/^>>>>>>>/.test(n.text)&&(t.end=n),t.start){let e=".js-line";t.start===n?e=".js-start":t.middle===n?e=".js-middle":t.end===n&&(e=".js-end");let r=document.querySelector(`.js-conflict-gutters ${e}`).cloneNode(!0);o.setGutterMarker(n,"merge-gutter",r)}t.end&&(e.conflicts.push(t),t={})})}function ek(e){let t=ey(document.querySelector(".js-resolve-file-form").elements.namedItem("filename").value);if(null==t)throw Error("Expected file data to be loaded and was not");let n=t.document.getCursor().line,o=t.conflicts,r=null;for(let i=e?0:o.length-1;e?i<o.length:i>=0;e?i++:i--){let s=o[i].middle;if(null==s)continue;let l=t.document.getLineNumber(s);if(e&&l>n||!e&&l<n){r=l;break}}null!=r&&t.document.setCursor(r,0),t.document.getEditor().focus()}(0,s.on)("click","a.js-conflicted-file",function(e){let t=e.currentTarget;e.preventDefault(),eS(t)}),(0,s.on)("click",".js-prev-conflict",function(e){ek(!1),e.preventDefault()}),(0,s.on)("click",".js-next-conflict",function(e){ek(!0),e.preventDefault()}),(0,s.on)("submit","form.js-resolve-file-form",function(e){let t=e.currentTarget;if(e.preventDefault(),t.querySelector("button.js-mark-resolved").classList.contains("disabled"))return;let n=document.querySelector(".js-conflicted-file.selected");if(n){n.classList.add("resolved");let e=n.getAttribute("data-filename"),t="File";if(e)try{t=decodeURIComponent(e)}catch{}(0,eg.kY)(`${t} marked as resolved`)}if(document.querySelectorAll(".js-conflicted-file.resolved").length===document.querySelectorAll(".js-conflicted-file").length){let e=document.querySelector(".js-resolve-conflicts-complete");e&&e.classList.remove("d-none");let t=document.querySelector(".js-resolve-file-form");t&&t.classList.add("is-resolved")}let o=n;if(null!=o)do o=o.nextElementSibling;while(o&&!o.classList.contains("js-conflicted-file"))if(o instanceof HTMLAnchorElement)return eS(o)}),(0,s.on)("submit","form.js-resolve-conflicts-form",async function(e){let t=e.currentTarget;e.preventDefault(),await (0,ep.A)();let n=new FormData(t);for(let e of t.querySelectorAll("input.js-file")){let t=ey(e.name);if(null==t)throw Error("Expected file data to be loaded and was not");n.append(e.name,t.document.getValue())}let o=await fetch(t.action,{method:"POST",body:n,headers:{Accept:"application/json",...(0,a.kt)()}});if(!o.ok){let e=Error(),t=o.statusText?` ${o.statusText}`:"";throw e.message=`HTTP ${o.status}${t}`,e}let i=await o.json(),s=!1;try{if(i.error)throw Error(i.error);let e=null;e=i.job?i.job.url:i.orchestration.url;let t=await (0,eh.Ee)(e,void 0,void 0,[200,500]);if(!t.ok){let e=await t.json();throw e?.job?.error_message&&/^repository rule violations/i.test(e.job.error_message)&&(s=!0),Error(`HTTP ${o.status} ${o.statusText||""}`)}let n=await t.json();if(n.orchestration?.error_message)throw/^repository rule violations/i.test(n.orchestration.error_message)&&(s=!0),Error(`HTTP ${t.status} ${t.statusText||""}`);let l=document.querySelector(".js-code-editor");(await (0,r.B)(l)).clearConfirmUnloadMessage(),window.location.pathname+="/.."}catch{let e=document.querySelector(".js-resolve-conflicts-complete");if(e&&e.classList.toggle("d-none"),s){let e=document.querySelector(".js-resolve-conflicts-repository-rule-violations");if(e)return void e.classList.toggle("d-none")}let t=document.querySelector(".js-resolve-conflicts-failed");t&&t.classList.toggle("d-none")}}),(0,s.on)("change",".js-conflict-resolver .js-code-editor",async function(e){let t=e.currentTarget,n=await (0,r.B)(t),o=ey(document.querySelector(".js-resolve-file-form").elements.namedItem("filename").value);if(null==o)throw Error("Expected file data to be loaded and was not");let i=0!==o.conflicts.length||/^[<>]{7}/m.test(n.code()),s=t.querySelector("button.js-mark-resolved");s.classList.toggle("disabled",i),s.classList.toggle("tooltipped",i);let l=i?s.getAttribute("data-disabled-label"):"";l&&s.setAttribute("aria-label",l)}),(0,i.lB)(".js-conflict-list",function(e){let t=e.querySelector(".js-conflicted-file");t instanceof HTMLAnchorElement&&eS(t);let n=document.querySelector(".new-discussion-timeline");n&&(n.classList.remove("px-3"),n.classList.add("p-0"))}),(0,s.on)("change",".js-conflict-resolution-choice-option",function(e){let t=e.target,n=t.closest(".js-resolve-conflicts-form"),o=n.querySelector(".js-resolve-conflicts-button"),r=n.querySelector(".js-quick-pull-new-branch-name");"direct"===t.value?(o.textContent=o.getAttribute("data-update-text"),o.removeAttribute("data-disable-invalid"),o.removeAttribute("disabled"),r.setAttribute("disabled","true")):(o.textContent=o.getAttribute("data-new-branch-text"),o.setAttribute("data-disable-invalid","true"),r.removeAttribute("disabled"),(0,em.t)(n))})},31803:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(34095),r=n(82591);let i=[],s=0;function l(e){!async function(){i.push(e),await o.G,function(){let e=s;s=i.length,a(i.slice(e),null,window.location.href)}()}()}function a(e,t,n){let o=window.location.hash.slice(1),r={oldURL:t,newURL:n,target:o?document.getElementById(o):null};for(let t of e)t.call(null,r)}l.clear=()=>{i.length=s=0};let c=window.location.href;window.addEventListener("popstate",function(){c=window.location.href}),window.addEventListener("hashchange",function(e){let t=window.location.href;try{a(i,e.oldURL||c,t)}finally{c=t}});let u=null;document.addEventListener(r.z.START,function(){u=window.location.href}),document.addEventListener(r.z.SUCCESS,function(){a(i,u,window.location.href)})},13195:(e,t,n)=>{n.d(t,{t:()=>a});var o=n(87363),r=n(21403),i=n(97797);function s(e){let t=e.getAttribute("data-required-value"),n=e.getAttribute("data-required-value-prefix");if(e.value===t)e.setCustomValidity("");else{let o=t;n&&(o=n+o),e.setCustomValidity(o)}}(0,o.eC)("[data-required-value]",function(e){s(e.currentTarget)}),(0,i.on)("change","[data-required-value]",function(e){let t=e.currentTarget;s(t),a(t.form)}),(0,o.eC)("[data-required-trimmed]",function(e){let t=e.currentTarget;""===t.value.trim()?t.setCustomValidity(t.getAttribute("data-required-trimmed")):t.setCustomValidity("")}),(0,i.on)("change","[data-required-trimmed]",function(e){let t=e.currentTarget;""===t.value.trim()?t.setCustomValidity(t.getAttribute("data-required-trimmed")):t.setCustomValidity(""),a(t.form)}),(0,o.uE)("input[pattern],input[required],textarea[required],input[data-required-change],textarea[data-required-change],input[data-required-value],textarea[data-required-value]",e=>{let t=e.checkValidity();function n(){let n=e.checkValidity();n!==t&&e.form&&a(e.form),t=n}e.addEventListener("input",n),e.addEventListener("blur",function t(){e.removeEventListener("input",n),e.removeEventListener("blur",t)})});let l=new WeakMap;function a(e){let t=e.checkValidity();for(let n of e.querySelectorAll("button[data-disable-invalid]"))n.disabled=!t}(0,r.lB)("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(e){let t=e.form;t&&(l.get(t)||(t.addEventListener("change",()=>a(t)),l.set(t,!0)),e.disabled=!t.checkValidity())}}),(0,r.lB)("input[data-required-change], textarea[data-required-change]",function(e){let t="radio"===e.type&&e.form?e.form.elements.namedItem(e.name).value:null;function n(n){let o=e.form;if(n&&"radio"===e.type&&o&&t)for(let n of o.elements.namedItem(e.name))n instanceof HTMLInputElement&&n.setCustomValidity(e.value===t?"unchanged":"");else e.setCustomValidity(e.value===(t||e.defaultValue)?"unchanged":"")}e.addEventListener("input",n),e.addEventListener("change",n),n(),e.form&&a(e.form)}),document.addEventListener("reset",function(e){if(e.target instanceof HTMLFormElement){let t=e.target;setTimeout(()=>a(t))}})},76641:(e,t,n)=>{n.d(t,{B:()=>s,j:()=>i});var o=n(97797);let r=new WeakMap;function i(e){return r.get(e)}async function s(e){var t,n;return r.get(e)||l(await (t=e,n="codeEditor:ready",new Promise(e=>{t.addEventListener(n,e,{once:!0})})))}function l(e){if(!(e instanceof CustomEvent))throw Error("assert: event is not a CustomEvent");let t=e.detail.editor;if(!e.target)throw Error("assert: event.target is null");return r.set(e.target,t),t}(0,o.on)("codeEditor:ready",".js-code-editor",l)},17120:(e,t,n)=>{n.d(t,{V:()=>CodeEditorExtensions});var o=n(3184),r=n(31635),i=n(39595);let s=class BypassReasonSelectorElement extends HTMLElement{reasonSelected(){this.submitBtn.disabled=!1}copyBlobFields(){let e=document.querySelector(".js-blob-form"),t=document.querySelector(".js-bypass-form");if(e instanceof HTMLFormElement&&t instanceof HTMLFormElement)for(let n of(this.createHiddenInputField(t,"value",document.querySelector(".js-blob-contents").value),this.createHiddenInputField(t,"description",document.querySelector("#commit-description-textarea").value),e.elements))n instanceof HTMLInputElement&&n.name&&!n.name.includes("gitignore")&&"authenticity_token"!==n.name&&this.createHiddenInputField(t,n.name,n.value)}createHiddenInputField(e,t,n){let o=document.createElement("input");o.type="hidden",o.name=t,o.id=`${t}_hidden`,o.value=n,e.appendChild(o),o.required=!0}};(0,r.Cg)([i.aC],s.prototype,"submitBtn",void 0),s=(0,r.Cg)([i.p_],s);var l=n(95439),a=n(77982);let CodeEditorExtensions=class CodeEditorExtensions{static annotateDiscoveredSecrets(e,t){if(!e)return;let n=(0,o._)(CodeEditorExtensions,CodeEditorExtensions,c).call(CodeEditorExtensions,e.getValue(),t);if(!n)return;let{startLine:r,endLine:i,startLineCharacter:s,endLineCharacter:l}=n;e.markText({line:r,ch:s},{line:i,ch:l},{className:"CodeMirror-lint-mark-error"})}static emitAnnotateDiscoveredSecrets(e,t,n){let r=(0,o._)(CodeEditorExtensions,CodeEditorExtensions,c).call(CodeEditorExtensions,e,t);if(!r)return;let{startLine:i,endLine:s,startLineCharacter:l,endLineCharacter:u}=r;(0,a.R)("secret-detected:lint",n,{from:{lineNumber:i,character:l},to:{lineNumber:s,character:u},severity:"error"})}static emitAnnotateDiscoveredSecretsWithLocation(e,t,n,r,i,s){let l=(0,o._)(CodeEditorExtensions,CodeEditorExtensions,u).call(CodeEditorExtensions,e,t,n,r,i);if(!l)return;let{parsedStartLine:c,parsedEndLine:d,startLineCharacter:f,endLineCharacter:h}=l;(0,a.R)("secret-detected:lint",s,{from:{lineNumber:c,character:f},to:{lineNumber:d,character:h},severity:"error"})}};function c(e,t){let n=JSON.parse(t);if(0===n.length||n[0].locations?.length===0)return null;let o=n[0].locations[0],r=e.split(/\r?\n/),i=o.start_line||o.startLine,s=o.end_line||o.endLine,a=o.start_line_byte_position||o.startLineBytePosition||0,c=o.end_line_byte_position||o.endLineBytePosition,u=i-1,d=s-1;if(!(u>d)&&!(u<0)&&!(d>r.length)&&r[u]&&r[d])return{startLine:u,endLine:d,startLineCharacter:(0,l.kN)(r[u],a),endLineCharacter:(0,l.kN)(r[d],c)}}function u(e,t,n,o,r){let i=e.split(/\r?\n/);if(!(--t>--n)&&!(t<0)&&!(n>i.length)&&i[t]&&i[n])return{parsedStartLine:t,parsedEndLine:n,startLineCharacter:(0,l.kN)(i[t],o),endLineCharacter:(0,l.kN)(i[n],r)}}},3779:(e,t,n)=>{n.d(t,{A:()=>f});var o=n(70987),r=n(30923),i=n(21403),s=n(51987);function l(e){let t=document.querySelector(".sso-modal");t&&(t.classList.remove("success","error"),e?t.classList.add("success"):t.classList.add("error"))}async function a(){let e=document.querySelector("link[rel=sso-modal]"),t=await (0,o.r)({content:(0,r.Ts)(document,e.href),dialogClass:"sso-modal"}),n=null,i=window.external;if(i.ssoComplete=function(e){if(e.error)l(n=!1);else{l(n=!0);var t=e.expiresAround;let o=document.querySelector("meta[name=sso-expires-around]");o&&o.setAttribute("content",t),window.focus()}i.ssoComplete=null},await new Promise(e=>{t.addEventListener("dialog:remove",e,{once:!0})}),!n)throw Error("sso prompt canceled")}async function c(){let e=document.querySelector("link[rel=sso-session]"),t=document.querySelector("meta[name=sso-expires-around]");if(!(e instanceof HTMLLinkElement)||!function(e){if(!(e instanceof HTMLMetaElement))return!0;let t=parseInt(e.content);return Date.now()/1e3>t}(t))return!0;let n=e.href,o=await fetch(n,{headers:{Accept:"application/json",...(0,s.kt)()}});return await o.json()}(0,i.lB)(".js-sso-modal-complete",function(e){if(window.opener&&window.opener.external.ssoComplete){let t=e.getAttribute("data-error"),n=e.getAttribute("data-expires-around");window.opener.external.ssoComplete({error:t,expiresAround:n}),window.close()}else{let t=e.getAttribute("data-fallback-url");t&&(window.location.href=t)}});let u=null;function d(){u=null}async function f(){await c()||(u||(u=a().then(d).catch(d)),await u)}},19117:(e,t,n)=>{n.d(t,{NB:()=>c,Up:()=>a,pk:()=>u});let o=new WeakMap;function r(e){let t=o.get(e);t&&(null!=t.timer&&clearTimeout(t.timer),t.timer=window.setTimeout(()=>{null!=t.timer&&(t.timer=null),t.inputed=!1,t.listener.call(null,e)},t.wait))}function i(e){let t=e.currentTarget,n=o.get(t);n&&(n.keypressed=!0,null!=n.timer&&clearTimeout(n.timer))}function s(e){let t=e.currentTarget,n=o.get(t);n&&(n.keypressed=!1,n.inputed&&r(t))}function l(e){let t=e.currentTarget,n=o.get(t);n&&(n.inputed=!0,n.keypressed||r(t))}function a(e,t,n={wait:null}){o.set(e,{keypressed:!1,inputed:!1,timer:void 0,listener:t,wait:null!=n.wait?n.wait:100}),e.addEventListener("keydown",i),e.addEventListener("keyup",s),e.addEventListener("input",l)}function c(e,t){e.removeEventListener("keydown",i),e.removeEventListener("keyup",s),e.removeEventListener("input",l);let n=o.get(e);n&&(null!=n.timer&&n.listener===t&&clearTimeout(n.timer),o.delete(e))}function u(e){let t=o.get(e);t&&t.listener.call(null,e)}},51120:(e,t,n)=>{n.d(t,{I:()=>s,j:()=>FetchCAPI401Error});var o=n(34295),r=n(25641),i=n(21067);let FetchCAPI401Error=class FetchCAPI401Error extends Error{constructor(e){super(e),this.name="FetchCAPI401Error"}};async function s({path:e,apiURL:t,method:n="GET",streamingResponse:s=!1,body:l}){let a=new o.l,c=await a.getAuthToken();if(!c)throw Error("No token available");let u={authToken:c,basePath:(0,i._$)().copilotApiOverrideUrl??t??"https://api.githubcopilot.com",method:n,path:e,streamingResponse:s,body:l},d=await (0,r.p)(u);if(!d.ok){if(401===d.status)throw new FetchCAPI401Error("Unauthorized access - token may be invalid or expired");throw Error("Failed to fetch agent sessions")}return d}},11418:(e,t,n)=>{let o;n.d(t,{H:()=>q});var r=n(35750),i=n(18150),s=n(85242),l=n(88243),a=n(16213),c=n(10204),u=new WeakMap,d=new WeakSet;let AliveSession=class AliveSession extends c.ib{constructor(e,t,n,o,r){super(e,()=>(0,l._)(this,d,f).call(this),n,o,void 0,r),(0,a._)(this,d),(0,i._)(this,u,{writable:!0,value:void 0}),(0,s._)(this,u,t)}};function f(){return h((0,r._)(this,u))}async function h(e){let t=await m(e);return t&&t.url&&t.token?p(t.url,t.token):null}async function m(e){let t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(404===t.status)return null;throw Error("fetch error")}async function p(e,t){let n=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(n.ok)return n.text();throw Error("fetch error")}var g=n(70170),b=n(34095),w=n(82075),y=n(23683),S=n(69599);function v(e,{channel:t,type:n,data:o}){for(let r of e)r.dispatchEvent(new CustomEvent(`socket:${n}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:o}}))}var k=new WeakMap,_=new WeakMap,L=new WeakMap,j=new WeakMap,R=new WeakMap,E=new WeakSet;let x=class AliveSessionProxy{subscribe(e){let t=(0,r._)(this,_).add(...e);t.length&&(0,r._)(this,k).port.postMessage({subscribe:t});let n=new Set(t.map(e=>e.name)),o=e.reduce((e,t)=>{let o=t.topic.name;return(0,c.JR)(o)&&!n.has(o)&&e.add(o),e},new Set);o.size&&(0,r._)(this,k).port.postMessage({requestPresence:Array.from(o)})}unsubscribeAll(...e){let t=(0,r._)(this,_).drain(...e);t.length&&(0,r._)(this,k).port.postMessage({unsubscribe:t});let n=(0,r._)(this,L).removeSubscribers(e);this.sendPresenceMetadataUpdate(n)}updatePresenceMetadata(e){let t=new Set;for(let n of e)(0,r._)(this,L).setMetadata(n),t.add(n.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;let t=[];for(let n of e)t.push({channelName:n,metadata:(0,r._)(this,L).getChannelMetadata(n)});(0,r._)(this,k).port.postMessage({updatePresenceMetadata:t})}online(){(0,r._)(this,k).port.postMessage({online:!0})}offline(){(0,r._)(this,k).port.postMessage({online:!1})}hangup(){(0,r._)(this,k).port.postMessage({hangup:!0})}constructor(e,t,n,o,u,d){(0,a._)(this,E),(0,i._)(this,k,{writable:!0,value:void 0}),(0,i._)(this,_,{writable:!0,value:new c.m0}),(0,i._)(this,L,{writable:!0,value:new c.VH}),(0,i._)(this,j,{writable:!0,value:void 0}),(0,i._)(this,R,{writable:!0,value:new Map}),(0,s._)(this,j,u),(0,s._)(this,k,new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${o}`,type:"module"})),(0,r._)(this,k).port.onmessage=({data:e})=>(0,l._)(this,E,C).call(this,e),(0,r._)(this,k).port.postMessage({connect:{url:t,refreshUrl:n,options:d}})}};function C(e){let{channel:t}=e;if("presence"===e.type){let n=(0,r._)(this,R).get(t);n||(n=(0,g.s)((e,n)=>{(0,r._)(this,j).call(this,e,n),(0,r._)(this,R).delete(t)},100),(0,r._)(this,R).set(t,n)),n((0,r._)(this,_).subscribers(t),e);return}(0,r._)(this,j).call(this,(0,r._)(this,_).subscribers(t),e)}async function A(){let e=function(){let e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href");return e&&e.startsWith("/")?e:null}();if(!e)return;let t=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!t)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!n)return;let o=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!o)return;let r=(()=>{let r=(0,S.G7)("alive_legacy_retries")?{socketPolicy:{timeout:4e3,attempts:7}}:{};if(!(0,y.nr)()&&"SharedWorker"in window&&"true"!==(0,w.A)("localStorage").getItem("bypassSharedWorker"))try{return new x(e,t,n,o,v,r)}catch{}return new AliveSession(t,n,!1,v,r)})();return window.addEventListener("online",()=>r.online()),window.addEventListener("offline",()=>r.offline()),window.addEventListener("pagehide",()=>{"hangup"in r&&r.hangup()}),r}async function M(){return await b.G,A()}function q(){return o||(o=M())}},73056:(e,t,n)=>{n.d(t,{$:()=>s});var o=n(10204),r=n(33303);let i=new WeakMap;function s(e,t,n){let s;if(!e)throw Error("Not connected to alive");if(!t)throw Error("No channel name");let l=o.KK.parse(t);if(!l)throw Error("Invalid channel name");let a={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&n(e.detail.data)}},topic:l},c=((s=i.get(e))||(s={subscribe:(0,r.rK)(t=>e.subscribe(t.flat())),unsubscribeAll:(0,r.rK)(t=>e.unsubscribeAll(...t))},i.set(e,s)),s);return c.subscribe([a]),{unsubscribe:()=>c.unsubscribeAll(a.subscriber)}}},49936:(e,t,n)=>{n.d(t,{I:()=>o});let o=(0,n(96540).createContext)(null)},4559:(e,t,n)=>{n.d(t,{C:()=>s,i:()=>l});var o=n(71315),r=n(69599),i=n(46493);function s(e,t){(0,r.G7)("arianotify_comprehensive_migration")?l(a(e),{...t,element:t?.element??e}):(0,r.G7)("primer_live_region_element")&&t?.element===void 0?(0,i.Cj)(e,{politeness:t?.assertive?"assertive":"polite"}):l(a(e),t)}function l(e,t){let{assertive:n,element:s}=t??{};(0,r.G7)("arianotify_comprehensive_migration")&&"ariaNotify"in Element.prototype?(s||document.body).ariaNotify(e):(0,r.G7)("primer_live_region_element")&&void 0===s?(0,i.iP)(e,{politeness:n?"assertive":"polite"}):function(e,t,n){let r=n??o.XC?.querySelector(t?"#js-global-screen-reader-notice-assertive":"#js-global-screen-reader-notice");r&&(r.textContent===e?r.textContent=`${e}\u00A0`:r.textContent=e)}(e,n,s)}function a(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}},77982:(e,t,n)=>{n.d(t,{R:()=>o});function o(e,t,n){if(!t)return;let o=t.className.includes("cm-content")?t:t.querySelector(".cm-content");o&&o.dispatchEvent(new CustomEvent(e,{detail:n}))}},80780:(e,t,n)=>{n.d(t,{V3:()=>c,_y:()=>a,wk:()=>l});var o=n(54571),r=n(39111);let i={cursorNavigationHopWordLeft:{hotkey:"Alt+ArrowLeft,Ctrl+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationHopWordRight:{hotkey:"Alt+ArrowRight,Ctrl+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationTopOfPage:{hotkey:"Meta+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationBottomOfPage:{hotkey:"Meta+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationEnd:{hotkey:"End,Meta+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["End"]},cursorNavigationHome:{hotkey:"Home,Meta+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["Home"]},cursorNavigationPageUp:{hotkey:"PageUp",useWhileBlobFocused:!0,noModifierHotkey:["PageUp"]},cursorNavigationPageDown:{hotkey:"PageDown",useWhileBlobFocused:!0,noModifierHotkey:["PageDown"]},cursorNavigationArrowDown:{hotkey:"ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"]},cursorNavigationArrowUp:{hotkey:"ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"]},cursorNavigationArrowLeft:{hotkey:"ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"]},cursorNavigationArrowRight:{hotkey:"ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"]},cursorNavigationShiftHopWordLeft:{hotkey:"Alt+Shift+ArrowLeft,Ctrl+Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationShiftHopWordRight:{hotkey:"Alt+Shift+ArrowRight,Ctrl+Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationShiftTopOfPage:{hotkey:"Meta+Shift+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationShiftBottomOfPage:{hotkey:"Meta+Shift+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationShiftEnd:{hotkey:"Shift+End,Meta+Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["End"],modifierRequired:!0},cursorNavigationShiftHome:{hotkey:"Shift+Home,Meta+Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["Home"],modifierRequired:!0},cursorNavigationShiftPageUp:{hotkey:"Shift+PageUp",useWhileBlobFocused:!0,noModifierHotkey:["PageUp"],modifierRequired:!0},cursorNavigationShiftPageDown:{hotkey:"Shift+PageDown",useWhileBlobFocused:!0,noModifierHotkey:["PageDown"],modifierRequired:!0},cursorNavigationShiftArrowDown:{hotkey:"Shift+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationShiftArrowUp:{hotkey:"Shift+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationShiftArrowLeft:{hotkey:"Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationShiftArrowRight:{hotkey:"Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationHighlightLine:{text:"J",hotkey:"Shift+J",useWhileBlobFocused:!0,noModifierHotkey:["J"],modifierRequired:!0},cursorNavigationGoLineUp:{hotkey:"Ctrl+p",useWhileBlobFocused:!0,noModifierHotkey:["p"],modifierRequired:!0},cursorNavigationOpenHelpDialog:{hotkey:"Alt+F1,Control+Alt+\u02D9,Control+Alt+h",useWhileBlobFocused:!0,noModifierHotkey:["F1","h","\u02D9"],modifierRequired:!0},cursorNavigationGoLineDown:{hotkey:"Ctrl+n",useWhileBlobFocused:!0,noModifierHotkey:["n"],modifierRequired:!0},cursorNavigationEnter:{text:"\u2318 Enter",hotkey:"Meta+Enter",useWhileBlobFocused:!0,noModifierHotkey:["Enter"],modifierRequired:!0},cursorNavigationSpace:{hotkey:" ",useWhileBlobFocused:!0,noModifierHotkey:[" "],modifierRequired:!1},cursorNavigationShiftSpace:{hotkey:"Shift+ ",useWhileBlobFocused:!0,noModifierHotkey:[" "],modifierRequired:!0},expandAndFocusLineContextMenu:{text:"Shift Alt C",hotkey:"Alt+Shift+C,Alt+Shift+\xc7",useWhileBlobFocused:!0,noModifierHotkey:["C"],modifierRequired:!0},copyFilePathShortcut:{text:"\u2318 shift .",hotkey:"Meta+Shift+>",useWhileBlobFocused:!0,noModifierHotkey:["."],modifierRequired:!0},copyPermalinkShortcut:{text:"\u2318 shift ,",hotkey:"Meta+Shift+<",useWhileBlobFocused:!0,noModifierHotkey:[","],modifierRequired:!0},copyRawContentShortcut:{text:"\u2318 shift c",hotkey:"Meta+Shift+C",useWhileBlobFocused:!0,noModifierHotkey:["c"],modifierRequired:!0},downloadRawContentShortcut:{text:"\u2318 shift s",hotkey:"Meta+Shift+S",useWhileBlobFocused:!0,noModifierHotkey:["s"],modifierRequired:!0},editFileShortcut:{hotkey:"e,Shift+E",useWhileBlobFocused:!0,noModifierHotkey:["e","E"]},goToLineShortcut:{text:"l",hotkey:"l,Shift+L",ariaKeyShortcuts:"l",useWhileBlobFocused:!0,noModifierHotkey:["l","L"]},alternativeGoToLineShortcut:{hotkey:"Mod+Alt+g",ariaKeyShortcuts:"Mod+Alt+g",useWhileBlobFocused:!0,noModifierHotkey:["g","G"]},findInFileShortcut:{hotkey:"Meta+f, F3",text:"\u2318 f",ariaKeyShortcuts:"Meta+F",useWhileBlobFocused:!0,noModifierHotkey:["f","F3"],modifierRequired:!0},findFilesShortcut:{hotkey:"t,Shift+T",useWhileBlobFocused:!0,noModifierHotkey:["t","T"]},findSelectionShortcut:{hotkey:"Meta+e",useWhileBlobFocused:!0,noModifierHotkey:["e"],modifierRequired:!0},findNextShortcut:{hotkey:"Mod+g"},findPrevShortcut:{hotkey:"Mod+Shift+G"},openWithGitHubDevShortcut:{hotkey:"., Meta+Shift+/",useWhileBlobFocused:!0,noModifierHotkey:["."]},openWithGitHubDevInNewWindowShortcut:{hotkey:"Shift+.,Shift+>,>",useWhileBlobFocused:!0,noModifierHotkey:[">"]},permalinkShortcut:{hotkey:"y,Shift+Y",useWhileBlobFocused:!0,noModifierHotkey:["y","Y"]},searchShortcut:{hotkey:"/",useWhileBlobFocused:!0,noModifierHotkey:["/"]},selectAllShortcut:{hotkey:"Meta+a",useWhileBlobFocused:!0,noModifierHotkey:["a"],modifierRequired:!0},selectEditTabShortcut:{hotkey:"Mod+Shift+P"},submitCommitDialogShortcut:{hotkey:"Mod+Enter"},refSelectorShortcut:{hotkey:"w",text:"w",useWhileBlobFocused:!0,noModifierHotkey:["w"]},escapeRightClickMenu:{hotkey:"Escape",useWhileBlobFocused:!0,noModifierHotkey:["Escape"]},toggleFocusedPaneShortcut:{hotkey:"Meta+F6,Meta+Shift+F6",useWhileBlobFocused:!0,noModifierHotkey:["F6"],modifierRequired:!0},toggleSymbolsShortcut:{hotkey:"Meta+i",useWhileBlobFocused:!0,noModifierHotkey:["i"],modifierRequired:!0},toggleTreeShortcut:{hotkey:"Meta+b",useWhileBlobFocused:!0,noModifierHotkey:["b"],modifierRequired:!0},viewBlameShortcut:{hotkey:"b,Shift+B,Meta+/ Meta+b",useWhileBlobFocused:!0,noModifierHotkey:["b"]},viewCodeShortcut:{hotkey:"Meta+/ Meta+c",useWhileBlobFocused:!0,modifierRequired:!0},viewPreviewShortcut:{hotkey:"Meta+/ Meta+p"},viewRawContentShortcut:{text:"\u2318 / \u2318 r",hotkey:"Meta+/ Meta+r",useWhileBlobFocused:!0,noModifierHotkey:["r"],modifierRequired:!0},findSymbolShortcut:{hotkey:"r,Shift+R",useWhileBlobFocused:!0,noModifierHotkey:["r","R"],modifierRequired:!1}},s=new Map;function l(){let e=(0,r.X)(["mac"]),[t]=(0,o.I)(()=>!1,!0,[]),n=0;if(e?n=1:t||(n=2),!s.has(n)){var l,a;let o=i;e||t||(o=Object.keys(l=o).reduce((e,t)=>{let n=l[t];return e[t]={hotkey:n.hotkey?.replace(/Meta/g,"Control"),text:n.text?.replace(//g,"Ctrl").replace(//g,"Shift"),ariaKeyShortcuts:n.ariaKeyShortcuts?.replace(/Meta/g,"Control"),useWhileBlobFocused:n.useWhileBlobFocused,modifierRequired:n.modifierRequired,noModifierHotkey:n.noModifierHotkey},e},{})),t&&(o=Object.keys(a=o).reduce((e,t)=>{let n=a[t];return e[t]={hotkey:void 0,text:n.text?.replace(//g,"Ctrl").replace(//g,"Shift"),ariaKeyShortcuts:n.ariaKeyShortcuts?.replace(/Meta/g,"Control"),useWhileBlobFocused:n.useWhileBlobFocused,modifierRequired:n.modifierRequired,noModifierHotkey:n.noModifierHotkey},e},{})),s.set(n,o)}return s.get(n)}function a(){let e=l();return Object.keys(e).reduce((t,n)=>{let o=e[n];if(o.useWhileBlobFocused&&o.noModifierHotkey&&o.modifierRequired)for(let e of o.noModifierHotkey)t.includes(e)||t.push(e);return t},[])}function c(){let e=l();return Object.keys(e).reduce((t,n)=>{let o=e[n];if(o.useWhileBlobFocused&&o.noModifierHotkey&&!o.modifierRequired)for(let e of o.noModifierHotkey)t.includes(e)||t.push(e);return t},[])}},34295:(e,t,n)=>{n.d(t,{l:()=>AgentSessionsTokenProvider});var o=n(65411);let AgentSessionsTokenProvider=class AgentSessionsTokenProvider extends o.J{constructor(){super([],"/copilot/agent-sessions/token","AGENT_SESSIONS_TOKEN")}}},70987:(e,t,n)=>{n.d(t,{r:()=>r});var o=n(97797);async function r(e){let t=document.querySelector("#site-details-dialog").content.cloneNode(!0),n=t.querySelector("details"),r=n.querySelector("details-dialog"),i=n.querySelector(".js-details-dialog-spinner");e.detailsClass&&n.classList.add(...e.detailsClass.split(" ")),e.dialogClass&&r.classList.add(...e.dialogClass.split(" ")),e.label?r.setAttribute("aria-label",e.label):e.labelledBy&&r.setAttribute("aria-labelledby",e.labelledBy),document.body.append(t);try{let t=await e.content;i.remove(),r.prepend(t)}catch{i.remove();let t=document.createElement("span");t.textContent=e.errorMessage||"Couldn't load the content",t.classList.add("my-6"),t.classList.add("mx-4"),r.prepend(t)}return n.addEventListener("toggle",()=>{n.hasAttribute("open")||((0,o.h)(r,"dialog:remove"),n.remove())}),r}},33303:(e,t,n)=>{function o(){return Promise.resolve()}function r(){return new Promise(window.requestAnimationFrame)}async function i(e,t){let n,o=new Promise(t=>{n=self.setTimeout(t,e)});if(!t)return o;try{var r;await Promise.race([o,(r=t,new Promise((e,t)=>{let n=Error("aborted");n.name="AbortError",r.aborted?t(n):r.addEventListener("abort",()=>t(n))}))])}catch(e){throw self.clearTimeout(n),e}}function s(e){let t=[];return function(n){t.push(n),1===t.length&&queueMicrotask(()=>{let n=t.slice(0);t.length=0,e(n)})}}n.d(t,{G$:()=>r,k2:()=>o,rK:()=>s,uk:()=>i})},46865:(e,t,n)=>{n.d(t,{Cy:()=>l,K3:()=>u,Z8:()=>a,k_:()=>i,lK:()=>d,m$:()=>s});var o=n(88578);function r(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:n}))}function i(e,t){t&&(function(e,t){if(!(e instanceof HTMLFormElement))throw TypeError("The specified element is not of type HTMLFormElement.");if(!(t instanceof HTMLElement))throw TypeError("The specified element is not of type HTMLElement.");if("submit"!==t.type)throw TypeError("The specified element is not a submit button.");if(!e||e!==t.form)throw Error("The specified element is not owned by the form element.")}(e,t),(0,o.A)(t)),r(e,"submit",!0)&&e.submit()}function s(e,t){if("boolean"==typeof t)if(e instanceof HTMLInputElement)e.checked=t;else throw TypeError("only checkboxes can be set to boolean value");else if("checkbox"===e.type)throw TypeError("checkbox can't be set to string value");else e.value=t;r(e,"change",!1)}function l(e,t){for(let n in t){let o=t[n],r=e.elements.namedItem(n);r instanceof HTMLInputElement?r.value=o:r instanceof HTMLTextAreaElement&&(r.value=o)}}function a(e){if(!(e instanceof HTMLElement))return!1;let t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n||e.isContentEditable}function c(e){return new URLSearchParams(e)}function u(e,t){let n=new URLSearchParams(e.search);for(let[e,o]of c(t))n.append(e,o);return n.toString()}function d(e){return c(new FormData(e)).toString()}},88578:(e,t,n)=>{function o(e){let t=e.closest("form");if(!(t instanceof HTMLFormElement))return;let n=r(t);if(e.name){let o=e.matches("input[type=submit]")?"Submit":"",r=e.value||o;n||((n=document.createElement("input")).type="hidden",n.classList.add("js-submit-button-value"),t.prepend(n)),n.name=e.name,n.value=r}else n&&n.remove()}function r(e){let t=e.querySelector("input.js-submit-button-value");return t instanceof HTMLInputElement?t:null}n.d(t,{A:()=>o,C:()=>r})},37285:(e,t,n)=>{n.d(t,{Av:()=>l,BM:()=>r,Gr:()=>a,HX:()=>d,M_:()=>f,RD:()=>u,rb:()=>i});var o=n(71315);let r="GraphQLTraces",i="GraphQLTracingRefresh",s=decodeURIComponent(new URLSearchParams(o.fV.search).get("disable_clusters")||"").split(",").filter(e=>""!==e);function l(e){if(!o.cg||!a()||!e)return;let t=o.cg;t&&!t[r]&&(t[r]=[]),t&&e.__trace&&(t[r].push(e.__trace),"function"==typeof t[i]&&t[i]())}function a(){let e=o.cg;return"true"===new URLSearchParams(o.fV.search).get("_tracing")||e&&void 0!==e[r]}function c(){return s.length>0}function u(e){if(!a()&&!c())return e;let t=new URL(e,o.fV.origin);return a()&&t.searchParams.set("_tracing","true"),c()&&t.searchParams.set("disable_clusters",s.join(",")),t.pathname+t.search}function d(e){return s.indexOf(e)>-1}function f(e){let t=s.indexOf(e);t>-1?s.splice(t,1):s.push(e);let n=new URLSearchParams(o.fV.search);n.set("disable_clusters",s.join(",")),o.fV.search=n.toString()}},73189:(e,t,n)=>{n.d(t,{l:()=>o});let o=()=>void 0},87363:(e,t,n)=>{n.d(t,{Ff:()=>a,eC:()=>c,uE:()=>l});var o=n(6986);let r=!1,i=new o.A;function s(e){let t=e.target;if(t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE)for(let e of i.matches(t))e.data.call(null,t)}function l(e,t){r||(r=!0,document.addEventListener("focus",s,!0)),i.add(e,t),document.activeElement instanceof HTMLElement&&document.activeElement.matches(e)&&t(document.activeElement)}function a(e,t,n){function o(t){let r=t.currentTarget;r&&(r.removeEventListener(e,n),r.removeEventListener("blur",o))}l(t,function(t){t.addEventListener(e,n),t.addEventListener("blur",o)})}function c(e,t){function n(e){let{currentTarget:o}=e;o&&(o.removeEventListener("input",t),o.removeEventListener("blur",n))}l(e,function(e){e.addEventListener("input",t),e.addEventListener("blur",n)})}},30721:(e,t,n)=>{n.d(t,{VB:()=>SSRNetwork,SD:()=>x,E7:()=>E});var o=n(50467),r=n(40961),i=n(69487),s=n(37285),l=n(96379),a=n(71315),c=n(38102);let u=["SAML","SERVICE_UNAVAILABLE"],d={FORBIDDEN:["SAML error"],AUTHENTICATION:["Couldn\u2019t authenticate you"]},f={NOT_FOUND:[["repository","issue"]]};var h=n(51987);function m(e,t){let n=f[e];if(!n)return!1;for(let e of n){if(t.length!==e.length)continue;let n=!0;for(let o=0;o<t.length;o++)if(t[o]!==e[o]&&"*"!==e[o]){n=!1;break}if(n)return!1}return!0}let p=class ValidationError extends Error{constructor(e,t,n){super(e,t),(0,o._)(this,"catalogService",void 0),this.catalogService=n,this.name="ValidationError"}};async function g(e,t,n){if(e.status>401&&404!==e.status){let o=await e.text(),r={url:e.url,timestamp:new Date().toISOString(),persistedQueryId:t,persistedQueryName:n,failureRequestId:e.headers.get("X-Github-Request-Id")},i=`HTTP error (${e.status}): ${o||"No additional text"}.
    Error Info: ${JSON.stringify(r)}`;if(429===e.status)throw{message:i,cause:e.status};throw Error(i,{cause:e.status})}}async function b(e,t,n,o="GET",r,i,s,l){return(await w(e,t,n,o,{isSubscription:!1,scope:void 0},r,i,s,l)).response}async function w(e,t,n,o="POST",r={},l,f,h,g){let b=JSON.stringify((0,i.stableCopy)({query:e,variables:n,...r.scopeObject?{scopeObject:r.scopeObject}:{}})),{isSubscription:S,scope:v,subscriptionTopic:k,dispatchTime:_}=r,L=function(e,t,n,o,r,i,s="/_graphql"){let l=[];if("GET"===e&&l.push(`body=${t}`),n&&l.push("subscription=1"),r&&l.push(`scope=${encodeURIComponent(r)}`),o&&l.push(`subscriptionTopic=${encodeURIComponent(o)}`),i&&l.push(`dispatchTime=${encodeURIComponent(i)}`),a.cg){let e=new URL(a.cg.location.href,a.cg.location.origin).searchParams.get("_features");e&&l.push(`_features=${e}`)}return l.length>0?`${s}?${l.join("&")}`:s}(o,encodeURIComponent(b),S,k,v,_,l),j=null;try{let{subscriptionId:n,requestId:r,json:i,status:l}=await y(L,o,e,t,b,f);if(j=n,h&&i.errors){let e=h[l];if(e)for(let n of i.errors){let o=e[n.type];o?.({persistedQueryName:t,errorMessage:n.message})}}let a=function(e,t,n,o){var r,i;if(r=t,i=e,"errors"in i&&(i.errors.filter(e=>{let t=u.includes(e.type)||!!d[e.type]?.includes(e.message),n=m(e.type,e.path);return t||n}).map(e=>{console.error(`Failed to fetch data. Please use this request ID when contacting support: ${r} Error: ${e.type}: ${e.message} (path: ${e.path})`)}),i.errors=i.errors.filter(e=>{let t=u.includes(e.type)||!!d[e.type]?.includes(e.message),n=m(e.type,e.path);return!t&&!n})),"errors"in e&&e.errors.length){let t=e.errors.map(e=>`GraphQL error: ${e.type}: ${e.message} (path: ${e.path})`).join(", "),r=new p(`${t} (Persisted query id: ${n})`,{cause:e.errors},e.extensions?.query_owning_catalog_service);if(o)(0,c.N7)(r),o.error(r);else throw r}if(!("data"in e)){let r=Error(`Expected data property in response: ${JSON.stringify(e)}. persistedQueryId: ${n}, requestId: ${t}`);if(o)(0,c.N7)(r),o.error(r);else throw r}return e}(i,r,e,g);return a&&(0,s.Av)(a),{subscriptionId:j,response:a}}catch(e){if(g)return"object"==typeof e&&null!==e&&"cause"in e&&429===e.cause||(0,c.N7)(e),g.error(e),{subscriptionId:j,response:{errors:[{message:"An error occurred while fetching data. Please try again later."}],extensions:{}}};throw e}}async function y(e,t,n,o,r,i){return S((0,s.RD)(e),t,n,o,r,i)}async function S(e,t,n,o,r,i){let s,a,u={...(0,h.kt)()};i?.issues_react_perf_test&&(u["X-LUC-Environment"]="issues");let d=(s="GET"===t?await fetch(e,{method:t,cache:"no-cache",credentials:"include",headers:{Accept:"application/json",...u}}):await (0,l.DI)(e,{method:t,headers:{Accept:"application/json",...u},...r?{body:r}:void 0})).headers.get("X-Subscription-ID"),f=s.headers.get("X-Github-Request-Id")||"",m=s.status;await g(s,n,o);try{a=await s.json()}catch(n){let t={error:n,status:m,url:e,requestId:f};throw(0,c.N7)(Error(`Failed to parse server JSON response ${JSON.stringify(t)}`)),Error(`Failed to parse server response. Please try again later. ${JSON.stringify(t)}`)}return{subscriptionId:d,requestId:f,json:a,status:m}}let v=[{kind:"linked",handle(e,t,n){if(null!=t&&t.getType()===i.ROOT_TYPE&&"node"===e.name&&n.hasOwnProperty("id"))return n.id}},{kind:"pluralLinked",handle(e,t,n){if(null!=t&&t.getType()===i.ROOT_TYPE&&"nodes"===e.name&&n.hasOwnProperty("ids"))return n.ids}}];var k=n(11418),_=n(73056),L=n(69982);function j(e){return(0,L.unstable_scheduleCallback)(L.unstable_LowPriority,e)}let R={cancel:()=>!1,schedule:e=>((0,r.unstable_batchedUpdates)(e),"")};let SSRNetwork=class SSRNetwork{execute(e,t,n){return this.relayNetwork.execute(e,t,n)}getPreloadedSubscriptions(){return this.preloadedSubscriptions}constructor(e,t={},n,r,s,l){(0,o._)(this,"relayNetwork",void 0),(0,o._)(this,"ssrPreloadedData",void 0),(0,o._)(this,"preloadedSubscriptions",void 0),(0,o._)(this,"warningsShown",void 0),(0,o._)(this,"enabled_features",void 0),(0,o._)(this,"maxAge",void 0),(0,o._)(this,"errorCallbacks",void 0),this.ssrPreloadedData=e,this.enabled_features=t,this.preloadedSubscriptions=n,this.warningsShown=new Set,this.maxAge=s,this.errorCallbacks=l,this.relayNetwork=i.Network.create((e,t)=>i.Observable.create(n=>{let o=function({params:e,variables:t,ssrPreloadedQueries:n,baseUrl:o,emitWarning:r,enabledFeatures:i,maxAge:s,errorCallbacks:l,observer:c}){if(!e.id)throw Error("params has no id property!");if(e.id&&n){let o=JSON.stringify(t),r=n.get(e.id)?.get(o),i=Math.floor(Date.now()/1e3),l=r?.timestamp;if(r&&(c.next(r),!(s&&l&&i>l+s)))return void c.complete();e.metadata?.isRelayRouteRequest&&(0,a.g5)()}let u="mutation"===e.operationKind?"POST":"GET";if(a.KJ)return b(e.id,e.name,t,u,o,i,l,c)}({params:e,variables:t,ssrPreloadedQueries:this.ssrPreloadedData,baseUrl:r,emitWarning:e=>{this.warningsShown.has(e)||(this.warningsShown.add(e),console.warn(e))},enabledFeatures:this.enabled_features,maxAge:s,errorCallbacks:this.errorCallbacks,observer:n});o instanceof Promise&&o.then(e=>{if(!Array.isArray(e)&&"extensions"in e&&e.extensions&&e.extensions.subscriptions){let t=e.extensions.subscriptions;for(let e in t)for(let n in this.preloadedSubscriptions.has(e)||this.preloadedSubscriptions.set(e,new Map),t[e])this.preloadedSubscriptions.get(e)?.set(n,t[e][n])}n.next(e),n.complete()})}),(e,t)=>(function(e,t,n=new Map){let o=e.id,r=e.name;return i.Observable.create(i=>{let s=()=>{},l=!1;return async function(){if(!o)throw Error("unexpected operation with no id!");let a=e.metadata?.scope,u=function(e,t,n,o){let r=o.get(e);if(r)e:for(let[e,o]of r){for(let[o,r]of Object.entries(JSON.parse(e)))if("$scope"===o&&n!==r||t[o]!==r)continue e;return o}}(o,t,a,n),d=null;if(u)d=u.subscriptionId,u.response&&i.next(u.response);else try{let e=await w(o,r,t,"GET",{isSubscription:!0,scope:a});d=e.subscriptionId,e.response&&i.next(e.response)}catch(e){if(e instanceof Error&&e.message.includes("Subscription halted"))return;throw e}try{let e=await (0,k.H)();if(l)return;let n=(0,_.$)(e,d,async({scope_object:e,subscription_topic:n,dispatch_time:s})=>{try{let{response:l}=await w(o,r,{...t},"GET",{isSubscription:!0,scopeObject:e,subscriptionTopic:n,dispatchTime:s,scope:a});l&&i.next(l)}catch(e){(0,c.N7)(e,{message:`Error in fetching update for ${o} with variables ${JSON.stringify(t)}`})}});n?.unsubscribe&&(s=n.unsubscribe)}catch(e){i.error(e)}}(),{get closed(){return l},unsubscribe(){l=!0,s()}}})})(e,t,this.preloadedSubscriptions))}};let E=(e,t)=>{let n=new SSRNetwork(new Map,{},new Map,e,void 0,t),o=new i.Environment({scheduler:R,store:new i.Store(new i.RecordSource,{gcReleaseBufferSize:50,queryCacheExpirationTime:3e5,gcScheduler:j}),getDataID:(e,t)=>{if("Viewer"===t)return null==e.id?(0,i.generateClientID)("client:root","viewer"):e.id;if("ProjectV2SingleSelectFieldOption"===t){let t=[];return e.id&&t.push(e.id),e.name&&t.push(e.name),e.color&&t.push(e.color),e.description&&t.push(function(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}(e.description)),t.join("_")}return e.id},network:n,missingFieldHandlers:v});return o.options={baseUrl:e,getPreloadedSubscriptions:()=>n.getPreloadedSubscriptions()},o};function x({environment:e,query:t,variables:n={}}){let o=(0,i.getRequest)(t),r=(0,i.createOperationDescriptor)(o,n);return e.retain(r),(0,i.fetchQuery)(e,t,n,{fetchPolicy:"store-or-network"})}},95439:(e,t,n)=>{function o(e){let t=e.split("\u200D"),n=0;for(let e of t)n+=Array.from(e.split(/[\ufe00-\ufe0f]/).join("")).length;return n/t.length}function r(e,t,n,o=!0){let i=e.value.substring(0,e.selectionEnd||0),s=e.value.substring(e.selectionEnd||0);return l(e,(i=i.replace(t,n))+(s=s.replace(t,n)),i.length,o),n}function i(e,t,n){if(null===e.selectionStart||null===e.selectionEnd)return r(e,t,n);let o=e.value.substring(0,e.selectionStart),i=e.value.substring(e.selectionEnd);return l(e,o+n+i,o.length),n}function s(e,t,n={}){let o=e.selectionEnd||0,r=e.value.substring(0,o),i=e.value.substring(o),l=(""===e.value||r.match(/\n$/)?"":`
`)+t+(n.appendNewline?`
`:"");e.value=r+l+i;let a=o+l.length;return e.selectionStart=a,e.selectionEnd=a,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),e.focus(),l}function l(e,t,n,o=!0){e.value=t,o&&(e.selectionStart=n,e.selectionEnd=n),e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}function a(e,t){let n=[...e],o=new TextEncoder,r=new Uint8Array(4);for(let e=0;e<n.length;e++){let i=n[e],{written:s,read:l}=o.encodeInto(i,r);if(!s||!l)return -1;let a=s-l;if(0!==a&&(e<t&&(t-=a),e>=t))break}return t}n.d(t,{bV:()=>o,bc:()=>s,ee:()=>r,kN:()=>a,tJ:()=>i})},70263:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(88431),r=n(96540);function i(){let e=(0,r.useRef)(!1),t=(0,r.useCallback)(()=>e.current,[]);return(0,o.N)(()=>(e.current=!0,()=>{e.current=!1}),[]),t}},39111:(e,t,n)=>{n.d(t,{X:()=>r});var o=n(54571);function r(e){let t=e.join(","),[n]=(0,o.I)(()=>{let e=/Windows/.test(navigator.userAgent)?"windows":/Macintosh/.test(navigator.userAgent)?"mac":null;return!!e&&t.includes(e)},!1,[t]);return n}},88431:(e,t,n)=>{n.d(t,{N:()=>i});var o=n(71315),r=n(96540);let i=void 0!==o.cg?.document?.createElement?r.useLayoutEffect:r.useEffect},42255:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(70263),r=n(96540);let i=function(e){let t=(0,o.A)(),[n,i]=(0,r.useState)(e);return[n,(0,r.useCallback)(e=>{t()&&i(e)},[t])]}},82247:(e,t,n)=>{n.d(t,{A:()=>o});function o(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}},79512:(e,t,n)=>{n.d(t,{Q:()=>v});var o=n(74848),r=n(4663),i=n(33592),s=n(96540),l=n(96379),a=n(6011),c=n(38621),u=n(46642),d=n(38411),f=n(69599),h=n(13017),m=n(21728),p=n(5945),g=n(52446),b=n(51120),w=n(42455);function y(e){let t,n,r,i,s,l=(0,m.c)(16),{apiURL:a,selectedAgent:c,onSelect:u,selectedRepo:d}=e,f=d?.owner||null,h=d?.nameOnly||null;l[0]!==a||l[1]!==f||l[2]!==h?(t={apiURL:a,owner:f,repo:h},l[0]=a,l[1]=f,l[2]=h,l[3]=t):t=l[3];let{data:y,isLoading:S}=function(e){let t,n,o,r,i=(0,m.c)(13),{apiURL:s,owner:l,repo:a}=e;i[0]!==l||i[1]!==a?(t=["subagents",l,a],i[0]=l,i[1]=a,i[2]=t):t=i[2],i[3]!==s||i[4]!==l||i[5]!==a?(n=async()=>{try{let e=await (0,b.I)({apiURL:s,path:`/agents/swe/internal/subagents/${l}/${a}`});if(404===e.status)return[];return(await e.json()).agents}catch{return[]}},i[3]=s,i[4]=l,i[5]=a,i[6]=n):n=i[6];let c=!!(l&&a);i[7]!==t||i[8]!==n||i[9]!==c?(o={queryKey:t,queryFn:n,enabled:c},i[7]=t,i[8]=n,i[9]=c,i[10]=o):o=i[10];let u=(0,w.b)(o);return i[11]!==u?(r={...u},i[11]=u,i[12]=r):r=i[12],r}(t);if(!d)return null;let v="Subagent";return c&&(v=`Subagent: ${c.charAt(0).toUpperCase()}${c.slice(1)}`),l[4]!==v?(n=(0,o.jsx)(p.W.Button,{children:v}),l[4]=v,l[5]=n):n=l[5],l[6]!==y||l[7]!==S||l[8]!==u||l[9]!==c?(r=S?(0,o.jsx)(g.l.Item,{children:"Loading subagents..."}):y&&0!==y.length?y.map(e=>(0,o.jsx)(g.l.Item,{selected:c===e.name,onSelect:()=>u(e.name),children:e.name.charAt(0).toUpperCase()+e.name.slice(1)},e.name)):(0,o.jsx)(g.l.Item,{children:"No subagents available"}),l[6]=y,l[7]=S,l[8]=u,l[9]=c,l[10]=r):r=l[10],l[11]!==r?(i=(0,o.jsx)(p.W.Overlay,{width:"medium",children:(0,o.jsx)(g.l,{selectionVariant:"single",children:r})}),l[11]=r,l[12]=i):i=l[12],l[13]!==n||l[14]!==i?(s=(0,o.jsxs)(p.W,{children:[n,i]}),l[13]=n,l[14]=i,l[15]=s):s=l[15],s}try{y.displayName||(y.displayName="SubAgentSelector")}catch{}async function S(e=""){let t=await (0,l.lS)("/copilot/agent-sessions/repositories");if(t.ok){let n=(await t.json()).repositories.map(e=>({id:e.id,nameWithOwner:e.nameWithOwner,enabled:e.enabled,name:e.nameWithOwner,nameOnly:e.name,owner:e.owner,defaultBranch:e.defaultBranch,private:"public"!==e.visibility}));if(e.trim()){let t=e.toLowerCase();n=n.filter(e=>e.nameWithOwner.toLowerCase().includes(t)||e.nameOnly.toLowerCase().includes(t))}return n}return[]}function v({apiURL:e,handleUserSubmit:t,initialRepo:n,hideRepoSelector:m}){let p=(0,i.b)(),[g,b]=(0,s.useState)(null),[w,v]=(0,s.useState)(!0),[k,_]=(0,s.useState)(!1),L=(0,f.G7)("copilot_immersive_agent_branch_selection"),[j]=(0,h.ok)(),R=j.get("branch"),[E,x]=(0,s.useState)(""),C=n&&`${n.ownerLogin}/${n.name}`,A=j.get("repo")??C,[M,q]=(0,s.useState)(null),T=(0,f.G7)("copilot_swe_agent_use_subagents");(0,s.useEffect)(()=>{if(n){let e=`${n.ownerLogin}/${n.name}`;b({id:n.id,owner:n.ownerLogin,name:e,nameOnly:n.name,nameWithOwner:e,enabled:!0,defaultBranch:n.defaultBranch,private:n.private});let t=R??n?.defaultBranch;if(t)x(t);else{let t=async()=>{try{let t=await (0,l.lS)(`/_filter/repositories?q=${e}`);if(!t.ok)return;let n=(await t.json()).repositories.find(t=>t.nameWithOwner===e);n&&x(n.defaultBranch)}finally{_(!1)}};_(!0),t()}p.clearCurrentReferences(),v(!1)}else(async()=>{try{let e=await S(),t=A?e.find(e=>e.nameWithOwner===A&&e.enabled):void 0;t||(t=e.find(e=>e.enabled)),t&&(b(t),x(R??t.defaultBranch))}catch{}finally{v(!1)}})()},[]);let U=(0,s.useCallback)(async e=>t(e,g,E,M||""),[t,g,E,M]);return(0,o.jsx)(r.V,{modes:[{name:"Agent",icon:(0,o.jsx)(c.AgentIcon,{}),submitLabel:"Start task",placeholder:"Describe a coding task to work on"}],size:"large",onSubmit:U,extraToolbar:(0,o.jsxs)(o.Fragment,{children:[w?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a.f,{height:"32px",width:"130px"})}):m?null:(0,o.jsx)(u.P,{repositoryLoader:S,selectionVariant:"single",selectAllOption:!1,onSelect:e=>{e&&(b(e),x(e.defaultBranch))},currentSelection:g||void 0,buttonText:g?.nameWithOwner||"Select repository",width:"medium",additionalButtonProps:{"aria-label":`Repository: ${g?.nameWithOwner||"Select repository"}`}}),L&&(g&&!k?(0,o.jsx)(d.PI,{cacheKey:"agent-sessions-ref-selector",canCreate:!1,currentCommitish:E,defaultBranch:g.defaultBranch,owner:g.owner,repo:g.nameOnly,types:["branch"],selectedRefType:"branch",closeOnSelect:!0,hideShowAll:!0,onSelectItem:e=>{x(e)}}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a.f,{height:"32px",width:"100px"})})),T&&(0,o.jsx)(y,{apiURL:e,selectedAgent:M,onSelect:q,selectedRepo:g})]}),submitDisabled:!g||!E})}try{v.displayName||(v.displayName="NewTaskChatInput")}catch{}},97189:(e,t,n)=>{n.d(t,{Fn:()=>a,eS:()=>l});var o=n(74848),r=n(21728),i=n(96540);let s=(0,i.createContext)(void 0);function l(){let e=(0,i.useContext)(s);if(!e)throw Error("useConsecutiveCAPI401sContext must be used within a ConsecutiveCAPI401sProvider");return e}function a(e){let t,n,l,a,u,d=(0,r.c)(7),{children:f}=e,[h,m]=(0,i.useState)(0);return d[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>m(c),l=()=>m(0),d[0]=n,d[1]=l):(n=d[0],l=d[1]),d[2]!==h?(a={numberOf401s:h,increment401s:n,reset401s:l},d[2]=h,d[3]=a):a=d[3],t=a,d[4]!==f||d[5]!==t?(u=(0,o.jsx)(s.Provider,{value:t,children:f}),d[4]=f,d[5]=t,d[6]=u):u=d[6],u}function c(e){return e+1}try{s.displayName||(s.displayName="ConsecutiveCAPI401sContext")}catch{}try{a.displayName||(a.displayName="ConsecutiveCAPI401sProvider")}catch{}},42455:(e,t,n)=>{n.d(t,{b:()=>a});var o=n(97286),r=n(51120),i=n(97189),s=n(34295),l=n(96540);function a(...e){let t=(0,o.I)(...e),{numberOf401s:n,increment401s:c,reset401s:u}=(0,i.eS)(),{isError:d,isLoading:f,error:h}=t;return(0,l.useEffect)(()=>{d&&h instanceof r.j?c():d||f?n>5&&(new s.l().removeLocalStorageAuthToken(),u()):u()},[d,f,h,c,u,n]),t}},22337:(e,t,n)=>{n.d(t,{o:()=>i});var o=n(96540),r=n(96379);function i(){let[e,t]=(0,o.useState)(null);return(0,o.useEffect)(()=>{!async function(){if(!e)try{let e=await (0,r.lS)("/github-copilot/chat");if(!e.ok)throw Error(`Failed to fetch chat provider: ${e.statusText}`);let n=await e.json();t(n)}catch(e){console.error("Error fetching Copilot Chat provider:",e)}}()},[e]),e}},61282:(e,t,n)=>{n.d(t,{V:()=>b,W:()=>w});var o=n(74848),r=n(21728),i=n(97189),s=n(96540),l=n(38621),a=n(87330),c=n(55847),u=n(9745),d=n(52446),f=n(39345),h=n(89865),m=n(47865),p=n(93654),g=n(22337);function b(e){let t,n,d,f,h,m=(0,r.c)(14),{isIconButton:p,currentRepo:g,hideRepoSelector:b,eventType:w,size:S,tooltipDirection:v}=e,[k,_]=(0,s.useState)(!1);return m[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>_(!0),n=()=>_(!1),m[0]=t,m[1]=n):(t=m[0],n=m[1]),m[2]!==p||m[3]!==S||m[4]!==v?(d=e=>p?(0,o.jsx)(a.K,{icon:l.AgentIcon,"aria-label":"New agent task","aria-labelledby":void 0,size:S,tooltipDirection:v,...e}):(0,o.jsx)(c.Q,{...e,leadingVisual:(0,o.jsx)(l.AgentIcon,{}),size:S,children:"New agent task"}),m[2]=p,m[3]=S,m[4]=v,m[5]=d):d=m[5],m[6]!==g||m[7]!==w||m[8]!==b?(f=(0,o.jsx)(i.Fn,{children:(0,o.jsx)(y,{currentRepo:g,hideRepoSelector:b,setOpen:_,eventType:w})}),m[6]=g,m[7]=w,m[8]=b,m[9]=f):f=m[9],m[10]!==k||m[11]!==d||m[12]!==f?(h=(0,o.jsx)(u.T,{width:"large",align:"end",open:k,onOpen:t,onClose:n,renderAnchor:d,children:f}),m[10]=k,m[11]=d,m[12]=f,m[13]=h):h=m[13],h}function w(e){let t,n,l,a,c,f,h,m,p=(0,r.c)(15);p[0]!==e?({currentRepo:t,eventType:n,...l}=e,p[0]=e,p[1]=t,p[2]=n,p[3]=l):(t=p[1],n=p[2],l=p[3]);let[g,b]=(0,s.useState)(!1);return p[4]===Symbol.for("react.memo_cache_sentinel")?(a=()=>b(!0),c=()=>b(!1),p[4]=a,p[5]=c):(a=p[4],c=p[5]),p[6]!==l?(f=e=>(0,o.jsx)(d.l.Item,{...e,...l,children:(0,o.jsx)("span",{children:"New agent task"})}),p[6]=l,p[7]=f):f=p[7],p[8]!==t||p[9]!==n?(h=(0,o.jsx)(i.Fn,{children:(0,o.jsx)(y,{currentRepo:t,setOpen:b,eventType:n})}),p[8]=t,p[9]=n,p[10]=h):h=p[10],p[11]!==g||p[12]!==f||p[13]!==h?(m=(0,o.jsx)(u.T,{width:"large",align:"end",open:g,onOpen:a,onClose:c,renderAnchor:f,children:h}),p[11]=g,p[12]=f,p[13]=h,p[14]=m):m=p[14],m}function y(e){let t,n,i,s,l=(0,r.c)(12),{currentRepo:a,hideRepoSelector:c,setOpen:u,eventType:d}=e,b=(0,g.o)(),w=b?.apiURL??"";l[0]!==w?(t={apiURL:w,sessionsPollingInterval:!1},l[0]=w,l[1]=t):t=l[1],(0,p.si)(t);let y=b?.apiURL??"";l[2]!==y?(n={apiURL:y},l[2]=y,l[3]=n):n=l[3];let{createTask:S}=(0,m.Z)(n);return l[4]!==u?(i=()=>{u(!1),document.dispatchEvent(new CustomEvent(h.p))},l[4]=u,l[5]=i):i=l[5],l[6]!==S||l[7]!==a||l[8]!==d||l[9]!==c||l[10]!==i?(s=(0,o.jsx)(f.T,{createTask:S,currentRepo:a,onCreate:i,hideRepoSelector:c,eventType:d}),l[6]=S,l[7]=a,l[8]=d,l[9]=c,l[10]=i,l[11]=s):s=l[11],s}try{b.displayName||(b.displayName="NewAgentTaskButton")}catch{}try{w.displayName||(w.displayName="NewAgentTaskActionListItem")}catch{}try{y.displayName||(y.displayName="NewAgentTaskButtonContent")}catch{}},76629:(e,t,n)=>{n.d(t,{BP:()=>d,D3:()=>u,O8:()=>a});var o=n(74848),r=n(21728),i=n(96540),s=n(71315),l=n(88431);let a={ServerRender:"ServerRender",ClientHydrate:"ClientHydrate",ClientRender:"ClientRender"},c=(0,i.createContext)(a.ClientRender);function u(e){let t,n,u,d,f=(0,r.c)(8),{wasServerRendered:h,children:m}=e;f[0]!==h?(t=()=>s.X3?a.ServerRender:h?a.ClientHydrate:a.ClientRender,f[0]=h,f[1]=t):t=f[1];let[p,g]=(0,i.useState)(t);return f[2]!==p?(n=()=>{p!==a.ClientRender&&g(a.ClientRender)},u=[p],f[2]=p,f[3]=n,f[4]=u):(n=f[3],u=f[4]),(0,l.N)(n,u),f[5]!==m||f[6]!==p?(d=(0,o.jsx)(c.Provider,{value:p,children:m}),f[5]=m,f[6]=p,f[7]=d):d=f[7],d}function d(){return(0,i.useContext)(c)}try{c.displayName||(c.displayName="RenderPhaseContext")}catch{}try{u.displayName||(u.displayName="RenderPhaseProvider")}catch{}},46642:(e,t,n)=>{n.d(t,{P:()=>u});var o=n(74848),r=n(96540),i=n(38621),s=n(1002),l=n(55847),a=n(70170),c=n(86391);function u({currentSelection:e,repositoryLoader:t,onSelect:n,selectionVariant:u,selectAllOption:d,additionalButtonProps:f,buttonText:h="",width:m}){let[p,g]=(0,r.useState)(""),[b,w]=(0,r.useState)([]),[y,S]=(0,r.useState)(!0),v=(0,r.useCallback)((0,a.s)(async e=>{try{let n=await t(e);w(n)}catch{}S(!1)},200),[t,w,S]);(0,r.useEffect)(()=>{S(!0),v(p)},[p,v,S]);let k=(0,r.useCallback)(e=>{"single"===u?!e[0]||e[0]._all?n(void 0):n(e[0]):n(e)},[u,n]),_=(0,r.useMemo)(()=>"multiple"===u?e||[]:e?[e]:[],[u,e]),L=(0,r.useCallback)(e=>{let t,n="medium"===m?35:24;return(e.name.length>n&&(t=`${e.name.substring(0,n)}...`),e._all)?{id:e.name,text:"All repositories",source:e,groupId:"all"}:{id:e.name,text:t||e.name,source:e,groupId:"select",disabled:!1===e.enabled,leadingVisual:()=>e.private?(0,o.jsx)(i.RepoLockedIcon,{size:16}):(0,o.jsx)(i.RepoIcon,{size:16})}},[m]),j=(0,r.useCallback)(e=>e.name,[]),R=(0,r.useMemo)(()=>{let e=[];return e.push(..._.filter(e=>b.every(t=>t.name!==e.name))||[]),e.push(...b),d&&e.push({name:"$all$",_all:!0}),e},[b,d,_]),E=h,x=i.RepoIcon;return E||("multiple"===u?E=_.length>0?`${_.length} repositor${_.length>1?"ies":"y"}`:"Select repositories":_.length>0&&_[0]?(E=_[0].name,x=_[0].private?i.RepoLockedIcon:i.RepoIcon):E=d?"All repositories":"Select a repository"),(0,o.jsx)(c.O,{renderAnchor:({"aria-labelledby":e,...t})=>(0,o.jsx)(l.Q,{leadingVisual:x,trailingAction:i.TriangleDownIcon,"aria-labelledby":` ${e}`,...t,...f,children:(0,o.jsx)(s.A,{title:E,maxWidth:195,children:E})}),placeholderText:"Search",items:R,loading:y,groups:d?[{groupId:"all"},{groupId:"select"}]:[],selectionVariant:u,initialSelectedItems:_,onSelectionChange:k,filterItems:g,getItemKey:j,convertToItemProps:L,title:"Select a repository",width:m})}try{u.displayName||(u.displayName="ReposSelector")}catch{}},43258:(e,t,n)=>{n.d(t,{Qn:()=>a,T8:()=>u,Y6:()=>f,k6:()=>d});var o=n(74848),r=n(65556),i=n(96540),s=n(73189),l=n(42255);let a=5e3,c=(0,i.createContext)({addToast:s.l,addPersistedToast:s.l,clearPersistedToast:s.l}),u=(0,i.createContext)({toasts:[],persistedToast:null});function d({children:e}){let[t,n]=(0,l.A)([]),[s,d]=(0,i.useState)(null),{safeSetTimeout:f}=(0,r.A)(),h=(0,i.useCallback)(function(e){n([...t,e]),f(()=>n(t.slice(1)),a)},[t,f,n]),m=(0,i.useCallback)(function(e){d(e)},[d]),p=(0,i.useCallback)(function(){d(null)},[d]),g=(0,i.useMemo)(()=>({addToast:h,addPersistedToast:m,clearPersistedToast:p}),[m,h,p]),b=(0,i.useMemo)(()=>({toasts:t,persistedToast:s}),[t,s]);return(0,o.jsx)(c.Provider,{value:g,children:(0,o.jsx)(u.Provider,{value:b,children:e})})}function f(){return(0,i.useContext)(c)}try{c.displayName||(c.displayName="ToastContext")}catch{}try{u.displayName||(u.displayName="InternalToastsContext")}catch{}try{d.displayName||(d.displayName="ToastContextProvider")}catch{}},64830:(e,t,n)=>{n.d(t,{T2:()=>c,cp:()=>m,ud:()=>g});var o=n(74848),r=n(21728),i=n(82075),s=n(96540);let l=(0,i.A)("localStorage"),a="codeView.codeFolding",c="codeView.codeWrapping",u="codeView.centerView",d="codeView.openSymbolsOnClick",f=new Map([[a,"Show code folding buttons"],[c,"Wrap lines"],[u,"Center content"],[d,"Open symbols on click"]]),h=(0,s.createContext)({codeFoldingOption:{},codeWrappingOption:{},codeCenterOption:{},openSymbolsOption:{}}),m=e=>{let t,n,i,s=(0,r.c)(8),{children:l}=e,f=p(a,!0),m=p(c,!1),g=p(u,!1),b=p(d,!0);return s[0]!==g||s[1]!==f||s[2]!==m||s[3]!==b?(n={codeFoldingOption:f,codeWrappingOption:m,codeCenterOption:g,openSymbolsOption:b},s[0]=g,s[1]=f,s[2]=m,s[3]=b,s[4]=n):n=s[4],t=n,s[5]!==l||s[6]!==t?(i=(0,o.jsx)(h.Provider,{value:t,children:l}),s[5]=l,s[6]=t,s[7]=i):i=s[7],i};function p(e,t){let n,o,i,a,c=(0,r.c)(11);c[0]!==e?(n=l.getItem(e),c[0]=e,c[1]=n):n=c[1];let u=n;c[2]!==t||c[3]!==u?(o=()=>u?"true"===u:t,c[2]=t,c[3]=u,c[4]=o):o=c[4];let[d,h]=(0,s.useState)(o);c[5]!==e?(i=f.get(e)||"",c[5]=e,c[6]=i):i=c[6];let m=i;return c[7]!==d||c[8]!==m||c[9]!==e?(a={name:e,enabled:d,setEnabled:h,label:m},c[7]=d,c[8]=m,c[9]=e,c[10]=a):a=c[10],a}function g(){return(0,s.useContext)(h)}try{h.displayName||(h.displayName="CodeViewOptionsContext")}catch{}try{m.displayName||(m.displayName="CodeViewOptionsProvider")}catch{}}},e=>{e.O(0,["primer-react","react-lib","react-core","octicons-react","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-1d3d52","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-928884","vendors-node_modules_primer_live-region-element_dist_esm_index_js-node_modules_swc_helpers_es-b6e71e","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_dompurify_dist_purify_es_mjs","vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_tanstack_react-query_build_modern_useQuery_js","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_github_hotkey_dist_inde-336f14","vendors-node_modules_date-fns_getDaysInMonth_mjs-node_modules_date-fns_isAfter_mjs-node_modul-49f526","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_dnd-kit_modifiers_dist_modifiers_esm_js-node_modules_dnd-kit_sortable_di-72228e","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec","vendors-node_modules_tanstack_react-virtual_dist_esm_index_js","vendors-node_modules_react-relay_index_js","vendors-node_modules_hastscript_lib_index_js-node_modules_lowlight_lib_all_js-node_modules_re-277d5e","vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_accname_dist_access-6ea9b0","vendors-node_modules_emoji-regex_index_js-node_modules_fzy_js_index_js-node_modules_tanstack_-0edaaf","vendors-node_modules_codemirror_lib_codemirror_js","vendors-node_modules_codemirror_addon_comment_comment_js-node_modules_codemirror_addon_edit_c-c9a8a3","packages_failbot_failbot_ts","packages_paths_index_ts","packages_ui-commands_ui-commands_ts","packages_date-picker_components_DatePicker_tsx","packages_drag-and-drop_drag-and-drop_ts-packages_hydro-analytics_hydro-analytics_ts","packages_list-view_src_hooks_use-next-header-tag_ts-packages_list-view_src_ListItem_ListItem_-055669","packages_ref-selector_RefSelector_tsx","packages_copilot-chat_utils_copilot-chat-helpers_ts","packages_copilot-markdown_MarkdownRenderer_tsx","packages_copilot-chat_utils_CopilotChatContext_tsx-packages_safe-html_VerifiedHTML_tsx","packages_item-picker_components_RepositoryPicker_tsx","packages_copilot-chat_components_ModelPicker_tsx","packages_copilot-chat_components_ChatInput_tsx-packages_global-agents-menu_GlobalAgentsMenu_t-f1d2b2","app_assets_modules_react-code-view_utilities_lines_ts-packages_fetch-headers_fetch-headers_ts-a3a840"],()=>e(e.s=79198)),e.O()}]);
//# sourceMappingURL=editor-f7eb2d0da99b.js.map